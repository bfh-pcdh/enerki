{"version":3,"file":"main.chunk.js","mappings":"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","sources":["webpack://enerki/webpack/runtime/chunk loaded","webpack://enerki/./src/antService.ts","webpack://enerki/./src/store.ts","webpack://enerki/./src/assets/i18n.ts","webpack://enerki/./src/components/AuthForm.vue?81c9","webpack://enerki/./src/components/AuthForm.vue","webpack://enerki/./src/components/AuthForm.vue?6469","webpack://enerki/./src/components/ConnectModal.vue?e592","webpack://enerki/./src/components/ConnectModal.vue","webpack://enerki/./src/components/ConnectModal.vue?30ea","webpack://enerki/./src/components/Settings.vue?043b","webpack://enerki/./src/components/Settings.vue","webpack://enerki/./src/components/Settings.vue?f591","webpack://enerki/./src/models.ts","webpack://enerki/./src/toastService.ts","webpack://enerki/./src/components/PromptExamples.vue?b18a","webpack://enerki/./src/components/PromptExamples.vue","webpack://enerki/./src/components/PromptExamples.vue?29cc","webpack://enerki/./src/components/Chat.vue?a925","webpack://enerki/./src/components/Chat.vue","webpack://enerki/./env.ts","webpack://enerki/./src/components/Chat.vue?e0d3","webpack://enerki/./src/components/PowerSimulator.vue?9063","webpack://enerki/./src/components/PowerSimulator.vue","webpack://enerki/./src/components/PowerSimulator.vue?8b67","webpack://enerki/./src/components/QuizCardModal.vue?3ec4","webpack://enerki/./src/components/QuizCardModal.vue","webpack://enerki/./src/components/QuizCardModal.vue?2298","webpack://enerki/./src/assets/quizcards.ts","webpack://enerki/./src/quizService.ts","webpack://enerki/./src/App.vue?8e56","webpack://enerki/./src/App.vue","webpack://enerki/./src/App.vue?8a29","webpack://enerki/./src/main.ts","webpack://enerki/./src/App.vue?1a81","webpack://enerki/./src/components/QuizCardModal.vue?340e","webpack://enerki/./src/App.vue?7efa","webpack://enerki/./src/components/Chat.vue?bbef","webpack://enerki/./src/components/PromptExamples.vue?d95a","webpack://enerki/./src/components/PowerSimulator.vue?3c58","webpack://enerki/./src/components/ConnectModal.vue?3bf7","webpack://enerki/./src/components/Settings.vue?e0e1","webpack://enerki/./src/components/AuthForm.vue?21dd","webpack://enerki/./src/components/Chat.vue?9584","webpack://enerki/./src/components/Settings.vue?e8dd","webpack://enerki/./src/components/PromptExamples.vue?db54","webpack://enerki/./src/components/QuizCardModal.vue?0762","webpack://enerki/./src/components/AuthForm.vue?3acf","webpack://enerki/./src/components/PowerSimulator.vue?ca8b","webpack://enerki/./src/components/ConnectModal.vue?b762","webpack://enerki/webpack/bootstrap","webpack://enerki/webpack/runtime/compat get default export","webpack://enerki/webpack/runtime/define property getters","webpack://enerki/webpack/runtime/global","webpack://enerki/webpack/runtime/hasOwnProperty shorthand","webpack://enerki/webpack/runtime/make namespace object","webpack://enerki/webpack/runtime/publicPath","webpack://enerki/webpack/runtime/jsonp chunk loading","webpack://enerki/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { WebUsbStick, HeartRateSensor, BicyclePowerSensor } from 'ant-plus-next';\n\nexport type AntSubscription = {\n    target: number; \n    total: number; \n    value: number; \n    percent: number\n}\nexport type AntCallback = (current: AntSubscription) => void;\n\ntype Quantity = {\n    value: number;\n    unit: string;\n}\n\n/**\n * Abstract class as base for the actual ANT+ services\n *  -> see PowerService for bicycle power meter\n *  -> see HeartRateService for Heart rate sensor\n */\nexport abstract class AntService {\n    protected stick: WebUsbStick | undefined;\n    private subscriptions = new Array<AntCallback>();\n    abstract sensor: BicyclePowerSensor | HeartRateSensor | undefined;\n    abstract unit: string;          // the unit for target and total\n    protected target: number = 0;     // the target value\n    protected total: number = 0;      // the total effort since last reset\n    protected value: number = 0;      // the current effort\n\n    constructor() {\n        try {\n            this.stick = new WebUsbStick();\n            this.stick.on('shutdown', () => {\n                console.log('Stick shutdown detected');\n            });\n\n            this.stick.on('unhandled', (data) => {\n                console.warn('Unhandled event received:', data);\n            });\n\n        } catch (e) {\n            console.log('caught an error', e);\n        }\n    }\n\n    /**\n     * Method to check if WebUSB is available in the browser and thus the \n     * stick was initialized.\n     * @returns     TRUE if the stick has been initialized\n     *              FALSE if the stick could not have been initialized\n     *                    (usually the case if the browser does not \n     *                     support WebUSB (only Chrome does))\n     */\n    stickAvailable(): boolean {\n        return this.stick != undefined;\n    }\n\n    /**\n     * Launch sensor and connect stick\n     * ⚠️ Keep in mind that this method MUST be called by user action!\n     */\n    connect() {\n        try {\n            this.stick?.on('startup', () => {\n                console.log('Stick initialized successfully with sensor of type ' + typeof this.sensor + '.');\n                this.sensor?.attach(0, 0);\n            });\n\n            this.stick?.open().then((o) => {\n                console.log('stick opened', o);\n                return () => {\n                    if (this.stick) {\n                        this.stick.close();\n                    }\n                };\n            });\n        }\n        catch(e) {\n            console.error('USB Connection failed', e);\n        }\n    }\n\n    /**\n     * Starts a new measurement and subscribes to it.\n     * Cave: Resets existing subscriptions!\n     * @param target            the target value, in the same unit as the total value for the respective sensor\n     * @param callback          a function that is triggered every time the sensor delivers a new value\n     *                          the callback function is called with these parameters:\n     *                            - target:     the currently set target\n     *                            - total:      the current accumulated total of effort\n     *                            - value:      the current value reported by the sensor\n     *                            - percent:    the percentage of the target reached yet\n     * @param autoUnsubscribe?  if the subscription should end when more than 100% is reached\n     * @returns                 the index of the subscription (use to unsubscribe)\n     */\n    startAndSubscribe(target: number, callback: AntCallback, autoUnsubscribe?: boolean): number {\n        if (this.total < this.target) {\n            console.warn('Reset existing measurement that was not completed yet!');\n        }\n        this.reset(target);\n        const subscriptionID = this.subscribe((e) => {\n            if (autoUnsubscribe) {\n                if (e.percent > 100) {\n                    this.unsubscribe(subscriptionID);\n                }\n                callback({\n                    ...e,\n                    percent: Math.min(e.percent, 100)\n                });\n            } else {\n                callback(e);\n            }\n            \n        });\n        return subscriptionID;\n    }\n\n    /**\n     * Set a new target value\n     * @param target    the target value, in the same unit as the total value for the respective sensor\n     */\n    setTarget(target: number) {\n        this.target = target;\n    }\n\n    /**\n     * Subscribe to updates on the sensor. \n     * @param callback  a function that is triggered every time the sensor delivers a new value\n     *                  the callback function is called with these parameters:\n     *                   - target:     the currently set target\n     *                   - total:      the current accumulated total of effort\n     *                   - value:      the current value reported by the sensor\n     *                   - percent:    the percentage of the target reached yet\n     * @returns         the index of the subscription (use to unsubscribe)\n     */\n    subscribe(callback: AntCallback): number {\n        return this.subscriptions.push(callback) - 1;\n    }\n\n    /**\n     * Get the current values of the sensor (from last update)\n     * @returns target:     the currently set target\n     *          total:      the current accumulated total of effort\n     *          value:      the current value reported by the sensor\n     *          percent:    the percentage of the target reached yet\n     */\n    getValues() {\n        return {\n            target: this.target,\n            total: this.total,\n            value: this.value,\n            percent: this.total / this.target * 100\n        };\n    }\n\n    /**\n     * Unsubscribe from a sensor\n     * @param subscriptionIndex the index of your subscription (as returned by subscribe())\n     */\n    unsubscribe(subscriptionIndex: number) {\n        this.subscriptions.splice(subscriptionIndex, 1);\n    }\n\n    /**\n     * Updates the value and total and notifies the subscribers (only if a total is set, to avoid division by 0)\n     * @param newValue  new current value\n     * @param newTotal  new total value\n     */\n    protected updateValue(newValue: number, newTotal: number) {\n        this.value = newValue;\n        this.total = newTotal;\n        if (this.target > 0) {\n            this.subscriptions.forEach((sub) => sub({\n                target: this.target,\n                total: this.total,\n                value: this.value,\n                percent: Math.round(this.total / this.target * 1000) / 10\n            }));\n        } else {\n            console.warn('No target set yet, do not notify subscribers!');\n        }\n    }\n\n    /**\n     * Reset the measurements\n     * @param target?   Optional value to set new target (default is resetting target to 0)\n     */\n    reset(target: number = 0) {\n        this.total = 0;\n        this.value = 0;\n        this.target = target;\n    }\n}\n\ninterface PowerData {\n    AccumulatedPower: number;   // ?\n    Cadence: number;            // pedal crank rotations per minute (current value)\n    DeviceId: number;           // id of device\n    Power: number;              // power (current value) in watt\n                                // problem: if power goes to 0, the previous value is still sent every time\n    offset: number;             // ?\n};\n\n/**\n * Service for reading a bicycle power meter.\n * @param settings?     optional parameter, set it to {debug: true} to use generated data instead of real bicycle sensor data\n *                      for when no sensor is connected to the usb stick (stick needs to be present nonetheless)\n */\nexport class PowerService extends AntService {\n    private debug = false;\n    private debugWatt = 0;\n    sensor: BicyclePowerSensor | undefined;\n    unit = 'Wh';\n    lastBeat = 0; // Timestamp in milliseconds\n    accumulatedPower = 0; // accumulated power\n\n    /**\n     * @param settings?  optional parameter, set it to {debug: true} to use generated data instead of real bicycle sensor data\n     *                   for when no sensor is connected to the usb stick (stick needs to be present nonetheless)\n     */\n    constructor(settings?: {debug: boolean}) {\n        super();\n        if (settings) {\n            this.debug = settings.debug;\n        }\n        if (this.stick) {\n            this.sensor = new BicyclePowerSensor(this.stick);\n        }   \n    \n    }\n\n    /**\n     * Resets the measurements\n     */\n    reset(target: number = 0) {\n        super.reset(target);\n        this.lastBeat = 0;\n        this.accumulatedPower = 0;\n        this.debugWatt = 0;\n    }\n\n    /**\n     * Update the debug watt value. Only use if in debug mode, not when a real sensor is connected.\n     * This value is then used for generating fake data. \n     * @param watt  the amount of watt to be used\n     */\n    setDebugWatt(watt: number) {\n        if (this.debug) {\n            this.debugWatt = watt;\n        } else {\n            console.warn('Tried to set watt, but not in debug mode. This is ignored.');\n        }\n    }\n\n    /**\n     * Updates the settings\n     * @param settings debug: set to true if you are debugging without a real sensor\n     */\n    setSettings(settings: {debug: boolean}) {\n        this.debug = settings.debug;\n    }\n\n    /**\n     * Fakes data based on the current set debugWatt value\n     * Updates every 1250 ms\n     */\n    private fakeData() {\n        if (this.lastBeat > 0) {\n            this.updateValue(\n                this.debugWatt,\n                this.total + this.getWattHours(this.debugWatt)\n            );\n        }\n        this.lastBeat = Date.now();\n        setTimeout(() => this.fakeData(), 1250);\n    }\n\n    /**\n     * Launch sensor and connect stick (or use test data if in debug mode)\n     * ⚠️ Keep in mind that this method MUST be called by user action!\n     */\n    connect() {\n        console.log('connect', this.debug, this.sensor)\n        if (this.debug) { // debug mode with fake data\n            this.fakeData();\n        } else if (this.sensor) { // prod mode with actual data from power sensor\n            super.connect();\n            this.sensor.on('powerData', (data: PowerData) => {\n                // the pedals keep sending previous watt value if they are idling (instead of 0), so we have to check if the \n                // user is actually pedalling\n                const idle = (this.accumulatedPower == data.AccumulatedPower);\n                const actualPower = idle\n                    ? 0\n                    : data.Power;\n                this.accumulatedPower = data.AccumulatedPower;\n\n                if (this.lastBeat > 0) {\n                    this.updateValue(\n                        actualPower,\n                        this.total + this.getWattHours(actualPower)\n                    );\n                }\n                this.lastBeat = Date.now();\n            });\n        }\n    }\n\n    /**\n     * Calculates the effort in watthours since the last update (assuming watt was constant)\n     * @param watts     the power measured since the last update in watt\n     * @returns         the watt hours that were generated since the last update\n     */\n    private getWattHours(watts: number): number {\n        const timeDiff = (Date.now() - this.lastBeat) / 1000 / 60 / 60; // hours passed\n        return timeDiff * watts;\n    }\n}\n\ninterface HeartRateData {\n    BeatCount: number;          // number of heart beats since start of measurement\n    BeatTime: number;           // timestamp of last beat\n    ComputedHeartRate: number;  // current heart rate\n    DeviceId: number;           // id of device\n}\n\n/**\n * Service for reading a heart rate monitor.\n * ⚠️ Please mind, that the constructor must be triggered by an user action to work in the Browser\n */\nexport class HeartRateService extends AntService {\n    sensor: HeartRateSensor | undefined;\n    unit = 'beats';\n\n    /**\n     * Service for reading a heart rate monitor.\n     */\n    constructor() {\n        super();\n        if (this.stick) {\n            this.sensor = new HeartRateSensor(this.stick);\n            this.sensor.on('heartRateData', (data: HeartRateData) => {\n                this.updateValue(\n                    data.ComputedHeartRate,\n                    data.BeatCount\n                );\n            });\n        }\n    }\n}","import { reactive } from 'vue';\nimport { AntCallback, HeartRateService, PowerService } from './antService';\nimport { Message } from './models';\n\nlet activeSubscriptions = new Array<number>();\n\nexport enum LANG {\n  DE = 'de',\n  FR = 'fr'\n};\n\nexport const store = reactive({\n  power: new PowerService({debug: false}),\n  heartRate: new HeartRateService(),\n  // quiz: new QuizService(),\n  connected: false,\n  connectedType: undefined as 'heartRate' | 'power' | undefined,\n  toasts: new Array<string>(),\n  textInput: '',\n  isDebug: false,\n  chatMessages: new Array<Message>(),\n  examplePrompts: new Array<string>(),\n  lang: LANG.DE,\n  isPedalling() {\n    const lastMessage = this.chatMessages[this.chatMessages.length -1];\n    if (lastMessage) {\n      return lastMessage.loading || (lastMessage.percent !== undefined && lastMessage.percent < 100)\n    }\n    return false;\n  },\n  /**\n   * Connect a new sensor.\n   * @param type  Either 'heartRate' or 'power'\n   */\n  connect(type: 'heartRate' | 'power' | 'debug') {\n    if (type === 'debug') {\n      this.isDebug = true;\n      this.power.setSettings({debug: true});\n      this.power.connect();\n      this.connectedType = 'power';\n    } else {\n      this.isDebug = false;\n      this[type].connect();\n      this.connectedType = type;\n    }\n    this.connected = true;\n  },\n  /**\n   * Resets the chat log and everything, when a new user is using the device\n   */\n  resetUser() {\n    this.chatMessages = [];\n    this.examplePrompts = [];\n    this.toasts = [];\n    this.textInput = '';\n    this.resetSubscriptions();\n  },\n  /**\n   * Starts a new measurement and subscribes to it.\n   * Subscription stops when 100% is reached, pass autoUnsubscribe = false when you want to avoid this behaviour.\n   * Cave: Resets existing subscriptions!\n   * @param target            the target value, in the same unit as the total value for the respective sensor\n   * @param callback          a function that is triggered every time the sensor delivers a new value\n   *                          the callback function is called with these parameters:\n   *                            - target:     the currently set target\n   *                            - total:      the current accumulated total of effort\n   *                            - value:      the current value reported by the sensor\n   *                            - percent:    the percentage of the target reached yet\n   * @param autoUnsubscribe   Optional. Defines if the subscription should end when more than 100% is reached. defaults to true.\n   * @returns                 the index of the subscription (use to unsubscribe)\n   */\n  startAndSubscribe(target: number, callback: AntCallback, autoUnsubscribe = true): number {\n    if (this.connectedType) {\n        const subscription = this[this.connectedType].startAndSubscribe(target, callback, autoUnsubscribe);\n        activeSubscriptions.push(subscription);\n        return subscription;\n    } else {\n        console.warn('No sensor connected yet!');\n        return -1;\n    }\n  },\n  resetSubscriptions() {\n    if (this.connectedType) {\n      while (activeSubscriptions.length > 0) {\n        this[this.connectedType].unsubscribe(activeSubscriptions.pop()!)\n      }\n    } else {\n        console.warn('No sensor connected yet!');\n        return -1;\n    }\n  },\n  /**\n   * Set a new target value\n   * @param target    the target value, in the same unit as the total value for the respective sensor\n   */\n  setTarget(target: number) {\n    if (!this.connectedType) {\n      console.warn('No sensor connected yet!');\n    } else {\n      this[this.connectedType].setTarget(target);\n    }\n  },\n  /**\n   * Adds a toast to the toast array\n   * @param text      The text to display\n   * @param timeout   The timeout (in ms) after which the toast is deleted (default: 1250 ms)\n   */\n  addToast(text: string, timeout: number = 3000) {\n    this.toasts.push(text);\n    if (timeout) {\n      setTimeout(() => this.removeToast(text), timeout);\n    }\n  },\n  /**\n   * Removes a toast by text\n   * @param text  the text of the toast to remove\n   * @returns     TRUe if the toast was found and removed\n   *              FALSE if the toast was not found\n   */\n  removeToast(text: string): boolean {\n    const i = this.toasts.findIndex((t) => t === text);\n    if (i > -1) {\n      this.toasts.splice(i,1);\n      return true;\n    } else {\n      return false;\n    }\n  }\n});\n\nexport const STORE_KEY = {\n  TOKEN: 'enerki-token'\n}; \n\nexport function persist<T>(key: string, value: T) {\n  window.localStorage.setItem(\n    key, \n    typeof value === 'string'\n      ? value\n      : JSON.stringify(value)\n  );\n}\n\nexport function hasPersisted(key: string): boolean {\n  return Object.hasOwn(window.localStorage, key);\n}\n\nexport function getPersisted<T>(key: string): T | undefined {\n  const storageString = window.localStorage.getItem(key);\n  if (storageString === null) return undefined;\n  try {\n    return JSON.parse(storageString);\n  }\n  catch(e) {\n    return storageString as T;\n  }\n}","import { store } from \"@/store\";\n\nexport function i18n(key: string): string {\n    return Object.hasOwn(KEYS, key)\n        ? KEYS[key][store.lang]\n        : KEYS.NOTFOUND[store.lang]\n}\n\nconst KEYS: {[key: string]: {de: string, fr: string}} = {\n    NOTFOUND: {\n        de: '[nicht übersetzt]',\n        fr: '[non traduit]'\n    },\n    RESET_USER: {\n        de: 'Soll enerKI für eine·n neue·n Benutzer·in zurückgesetzt werden?',\n        fr: 'Faut-il réinitialiser enerKI pour un·e utilisateur·rice ?'\n    },\n    NEW_CARD: {\n        de: 'Neue Karte ziehen',\n        fr: 'Tirer une nouvelle carte'\n    },\n    SHOW_CARD: {\n        de: 'Karte nochmal anzeigen',\n        fr: 'Afficher la carte à nouveau'\n    },\n    RESET: {\n        de: 'Zurücksetzen',\n        fr: 'Réinitialiser'\n    },\n    LANGUAGE: {\n        de: 'Sprache', \n        fr: 'Langue'\n    },\n    ERROR: {\n        de: 'Leider ist etwas schief gegangen:',\n        fr: 'Une erreur s’est produite :'\n    },\n    OK: {\n        de: 'OK',\n        fr: 'OK'\n    },\n    SAVE: {\n        de: 'Speichern',\n        fr: 'Enregistrer'\n    },\n    SEND: {\n        de: 'Senden',\n        fr: 'Envoyer'\n    },\n    QUIZCARD_TITLE: {\n        de: 'Quiz-Karte #',\n        fr: 'Carte Quiz #'\n    },\n    QUIZCARD_DESCRIPTION: {\n        de: 'Versuche, diese Frage zu beantworten:',\n        fr: 'Essaie de répondre à cette question :'\n    },\n    QUIZCARD_INSTRUCTION: {\n        de: 'Drücke [Enter] um einen Prompt auszuwählen oder einen eigenen Prompt einzugeben.',\n        fr: 'Appuie sur [Enter] pour choisir un prompt ou en saisir un personnalisé.'\n    },\n    POWERSIM_LABEL: {\n        de: 'Wie stark trittst du in die Pedale?',\n        fr: 'À quelle intensité pédales-tu ?'\n    },\n    POWERSIM_WATT: {\n        de: 'Watt',\n        fr: 'Watt'\n    },\n    CONNECT_TITLE: {\n        de: 'Sensor verbinden',\n        fr: 'Connecter le capteur'\n    },\n    CONNECT_NOTCONNECTED: {\n        de: 'Es ist noch kein Sensor verbunden.',\n        fr: 'Aucun capteur n’est encore connecté.'\n    },\n    CONNECT_INSTRUCTIONS: {\n        de: 'Anleitung zum Einrichten',\n        fr: 'Instructions de configuration'\n    },\n    CONNECT_POWERMETER: {\n        de: 'Powermeter verbinden',\n        fr: 'Connecter le powermètre'\n    },\n    CONNECT_POWERMETER_TOOLTIP: {\n        de: 'Powermeter verbinden: Benötigt einen ANT+ USB-Adapter und kompatible Powermeter-Pedale',\n        fr: 'Connecter le powermètre : nécessite un adaptateur USB ANT+ et des pédales powermètre compatibles'\n    },\n    CONNECT_DEBUG: {\n        de: 'Ohne Sensor verwenden',\n        fr: 'Utiliser sans capteur'\n    },\n    CONNECT_DEBUG_TOOLTIP: {\n        de: 'Ohne Sensor verwenden: Im Debug-Modus wird ein Powermeter simuliert, um enerKI auch ohne Ergometer-Infrastruktur testen zu können.',\n        fr: 'Utiliser sans capteur : en mode débogage, un powermètre est simulé pour tester enerKI sans infrastructure d’ergomètre.'\n    },\n    AUTH_CONFIRM: {\n        de: '⚠️ Das Token wird unverschlüsselt gespeichert. Andere Websiten, die du mit diesem Browser besuchst, können das Token potenziell auslesen.' + \n            '\\n\\nMöchtest du es trotzdem speichern?',\n        fr: '⚠️ Le jeton sera stocké sans chiffrement. D’autres sites visités avec ce navigateur pourraient potentiellement le lire.' +\n            '\\n\\nVeux-tu quand même l’enregistrer ?'\n    },\n    AUTH_PERSIST: {\n        de: 'Das Token auf diesem Computer speichern',\n        fr: 'Enregistrer le jeton sur cet ordinateur'\n    },\n    CHAT_PLACEHOLDER: {\n        de: 'Gib hier deinen Text ein',\n        fr: 'Saisis ton texte ici'\n    },\n    CHAT_PLACEHOLDER_PROMPTS: {\n        de: 'Gib hier deinen Text ein oder wähle einen der Prompts oben aus',\n        fr: 'Saisis ton texte ici ou choisis un des prompts ci-dessus'\n    }\n};","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, unref as _unref, toDisplayString as _toDisplayString, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { action: \"#\" }\nconst _hoisted_2 = { class: \"token-box\" }\nconst _hoisted_3 = [\"disabled\"]\nconst _hoisted_4 = { class: \"persist-box\" }\n\nimport { i18n } from '@/assets/i18n';\nimport { ref } from 'vue';\n\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'AuthForm',\n  emits: ['onToken', 'onError'],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit;\n\n  const token = ref('');\n  const persist = ref(false);\n\n  // TODO: very basic validation, update this later\n  function isValid(token: string): Promise<boolean> {\n    return Promise.resolve(token.length > 0);\n  }\n\n  function setToken() {\n    isValid(token.value).then((valid) => {\n      if (valid) {\n        emit('onToken', {\n          token: token.value,\n          persist: persist.value\n        });\n      } \n    });\n  }\n  function togglePersist() {\n    if (persist.value) {\n      persist.value = false;\n    } else {\n      const confirm = window.confirm(\n          i18n('AUTH_CONFIRM')\n      );\n      window.setTimeout(() => persist.value = confirm, 1); // hack necessary to set negative answer when user checked checkbox and said no in prompt\n    }\n  }\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"form\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((token).value = $event)),\n        placeholder: \"Bitte gib dein BeeChat Token ein\",\n        style: {\"width\":\"100%\"}\n      }, null, 512 /* NEED_PATCH */), [\n        [_vModelText, token.value]\n      ]),\n      _createElementVNode(\"button\", {\n        onClick: setToken,\n        type: \"submit\",\n        disabled: token.value.length == 0\n      }, _toDisplayString(_unref(i18n)('SAVE').toUpperCase()), 9 /* TEXT, PROPS */, _hoisted_3)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"checkbox\",\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((persist).value = $event)),\n        onClick: togglePersist\n      }, null, 512 /* NEED_PATCH */), [\n        [_vModelCheckbox, persist.value]\n      ]),\n      _createTextVNode(_toDisplayString(_unref(i18n)('AUTH_PERSIST')), 1 /* TEXT */)\n    ])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { i18n } from '@/assets/i18n';\nimport { ref } from 'vue';\n\n  const emit = defineEmits(['onToken', 'onError']);\n\n  const token = ref('');\n  const persist = ref(false);\n\n  // TODO: very basic validation, update this later\n  function isValid(token: string): Promise<boolean> {\n    return Promise.resolve(token.length > 0);\n  }\n\n  function setToken() {\n    isValid(token.value).then((valid) => {\n      if (valid) {\n        emit('onToken', {\n          token: token.value,\n          persist: persist.value\n        });\n      } \n    });\n  }\n  function togglePersist() {\n    if (persist.value) {\n      persist.value = false;\n    } else {\n      const confirm = window.confirm(\n          i18n('AUTH_CONFIRM')\n      );\n      window.setTimeout(() => persist.value = confirm, 1); // hack necessary to set negative answer when user checked checkbox and said no in prompt\n    }\n  }\n</script>\n\n<template>\n  <form action=\"#\">\n    <div class=\"token-box\">\n      <input type=\"text\" v-model=\"token\" placeholder=\"Bitte gib dein BeeChat Token ein\" style=\"width: 100%\"></input>\n      <button @click=\"setToken\" type=\"submit\" :disabled=\"token.length == 0\">\n        {{ i18n('SAVE').toUpperCase() }}\n      </button>\n    </div>\n    <div class=\"persist-box\">\n      <input type=\"checkbox\" v-model=\"persist\" @click=\"togglePersist\">{{ i18n('AUTH_PERSIST') }}</input>\n    </div>\n  </form>\n</template>\n\n<style scoped>\n  form {\n    display: flex;\n    margin: 5em 1em !important;\n    flex-direction: column;\n  }\n  div {\n    display: flex;\n    width: 100%;\n    margin-top: 1em;\n  }\n  .token-box input {\n    width: 80%;\n  }\n  .persist-box {\n    width: 50%;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .persist-box input {\n    margin-right: 0.5em;\n  }\n  button {\n    width: 20%;\n  }\n</style>\n","import script from \"./AuthForm.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AuthForm.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AuthForm.vue?vue&type=style&index=0&id=a149adc6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a149adc6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"modal fade\",\n  id: \"connect-modal\"\n}\nconst _hoisted_2 = { class: \"modal-dialog\" }\nconst _hoisted_3 = { class: \"modal-content\" }\nconst _hoisted_4 = { class: \"modal-header\" }\nconst _hoisted_5 = { class: \"modal-title\" }\nconst _hoisted_6 = { class: \"modal-body\" }\nconst _hoisted_7 = {\n  href: \"https://github.com/bfh-pcdh/enerki/blob/main/SETUP.md\",\n  target: \"_blank\"\n}\nconst _hoisted_8 = { class: \"button-container\" }\nconst _hoisted_9 = [\"disabled\", \"title\"]\nconst _hoisted_10 = [\"title\"]\n\nimport { store } from '../store';\nimport { i18n } from '@/assets/i18n';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ConnectModal',\n  emits: ['onError'],\n  setup(__props, { emit: __emit }) {\n\nconst emit = __emit;\n\nfunction connect(type: 'heartRate' | 'power' | 'debug') {\n  try {\n    store.connect(type);\n  } catch (e) {\n    emit('onError', JSON.stringify(e, null, 2));\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"background\" }, null, -1 /* CACHED */)),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"h1\", _hoisted_5, _toDisplayString(_unref(i18n)('CONNECT_TITLE')), 1 /* TEXT */)\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"p\", null, _toDisplayString(_unref(i18n)('CONNECT_NOTCONNECTED')), 1 /* TEXT */),\n            _createElementVNode(\"p\", null, [\n              _createElementVNode(\"a\", _hoisted_7, _toDisplayString(_unref(i18n)('CONNECT_INSTRUCTIONS')), 1 /* TEXT */)\n            ]),\n            _createElementVNode(\"div\", _hoisted_8, [\n              _createCommentVNode(\" button \\n              @click=\\\"connect('heartRate')\\\"\\n              :disabled=\\\"!store.heartRate.stickAvailable()\\\"\\n              class=\\\"connect-button\\\">\\n              Pulssensor verbinden\\n            </button\"),\n              _createElementVNode(\"button\", {\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (connect('power'))),\n                class: \"connect-button\",\n                disabled: !_unref(store).power.stickAvailable(),\n                title: _unref(i18n)('CONNECT_POWERMETER_TOOLTIP')\n              }, _toDisplayString(_unref(i18n)('CONNECT_POWERMETER')), 9 /* TEXT, PROPS */, _hoisted_9),\n              _createElementVNode(\"button\", {\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (connect('debug'))),\n                class: \"connect-button\",\n                title: _unref(i18n)('CONNECT_DEBUG_TOOLTIP')\n              }, _toDisplayString(_unref(i18n)('CONNECT_DEBUG')), 9 /* TEXT, PROPS */, _hoisted_10)\n            ])\n          ])\n        ])\n      ])\n    ])\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { store } from '../store';\nimport { i18n } from '@/assets/i18n';\n\nconst emit = defineEmits(['onError']);\n\nfunction connect(type: 'heartRate' | 'power' | 'debug') {\n  try {\n    store.connect(type);\n  } catch (e) {\n    emit('onError', JSON.stringify(e, null, 2));\n  }\n}\n</script>\n\n<template>\n  <div class=\"background\" />\n  <div class=\"modal fade\" id=\"connect-modal\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h1 class=\"modal-title\">{{ i18n('CONNECT_TITLE') }}</h1>\n        </div>\n        <div class=\"modal-body\">\n          <p>{{ i18n('CONNECT_NOTCONNECTED') }}</p>\n          <p><a href=\"https://github.com/bfh-pcdh/enerki/blob/main/SETUP.md\" target=\"_blank\">{{ i18n('CONNECT_INSTRUCTIONS') }}</a></p>\n          <div class=\"button-container\">\n            <!-- button \n              @click=\"connect('heartRate')\"\n              :disabled=\"!store.heartRate.stickAvailable()\"\n              class=\"connect-button\">\n              Pulssensor verbinden\n            </button-->\n            <button \n              @click=\"connect('power')\"\n              class=\"connect-button\"\n              :disabled=\"!store.power.stickAvailable()\"\n              :title=\"i18n('CONNECT_POWERMETER_TOOLTIP')\">\n              {{ i18n('CONNECT_POWERMETER') }}\n            </button>\n            <button \n              @click=\"connect('debug')\"\n              class=\"connect-button\"\n              :title=\"i18n('CONNECT_DEBUG_TOOLTIP')\">\n              {{ i18n('CONNECT_DEBUG') }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.background {\n  backdrop-filter: blur(3px);\n  -webkit-backdrop-filter: blur(3px);\n  background-color: rgba(255, 255, 255, .5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 15 !important;\n}\n.connect-button {\n  width: 10em;\n  display: block;\n  margin-top: 2em;\n  margin-left: auto;\n  margin-right: auto;\n}\n.modal {\n  display: contents;\n}\n.modal-content {\n  top: 10vh;\n}\n.modal-dialog {\n  z-index: 20 !important;\n}\n.button-container {\n  display: flex;\n}\nh1 {\n  font-size: 1.2em;\n}\n</style>\n","import script from \"./ConnectModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ConnectModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ConnectModal.vue?vue&type=style&index=0&id=46c3d32b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46c3d32b\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { store } from '../store';\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Settings',\n  emits: ['onClose'],\n  setup(__props, { emit: __emit }) {\n\n  const PACKAGE = require('../../package.json');\n  const version = PACKAGE.version;\n  const emit = __emit;\n\n  function reset() {\n    if (\n      confirm('Soll enerKI für eine·n Benutzer·in zurückgesetz werden?')\n    ) {\n      store.resetUser();\n      emit('onClose');\n    }\n\n  }\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[0] || (_cache[0] = _createElementVNode(\"h1\", null, \"🏗️ TO DO: Einstellungen 🏗️\", -1 /* CACHED */)),\n    _createElementVNode(\"p\", null, \"enerKI Version: \" + _toDisplayString(_unref(version)), 1 /* TEXT */),\n    _createElementVNode(\"button\", { onClick: reset }, \"Neue·r Benutzer·in\")\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<script setup lang=\"ts\">\n  import { store } from '../store';\n  const PACKAGE = require('../../package.json');\n  const version = PACKAGE.version;\n  const emit = defineEmits(['onClose']);\n\n  function reset() {\n    if (\n      confirm('Soll enerKI für eine·n Benutzer·in zurückgesetz werden?')\n    ) {\n      store.resetUser();\n      emit('onClose');\n    }\n\n  }\n</script>\n\n<template>\n    <h1>🏗️ TO DO: Einstellungen 🏗️</h1>\n    <p>enerKI Version: {{ version }}</p> \n    <button @click=\"reset\">Neue·r Benutzer·in</button>\n</template>\n\n<style scoped>\n  h1 {\n    margin-top: 3em;\n    margin-left: 2em;\n  }\n  p {\n    margin-left: 5em;\n  }\n  button {\n    margin-left: 5em;\n  }\n</style>\n","import script from \"./Settings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Settings.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=5fe2c650&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5fe2c650\"]])\n\nexport default __exports__","export enum USER_ROLE {\n    USER = 'user',\n    AI = 'assistant',\n    DEV = 'developer'\n};\n\nexport interface Message {\n    role: USER_ROLE;\n    content: string;\n    loading: boolean;\n    percent?: number;\n};\n\n\nexport interface QuizCard {\n    id: string;\n    question: {de: string, fr: string};\n    prompts: {de: string[], fr: string[]}\n};","import { store } from \"./store\";\n\nenum Replacer {\n    PERCENT = '%percent%',\n    WATTHOUR = '%watthours%',\n    WATT = '%watts',\n    KCAL = '%calories'\n};\n\nconst MINIMAL_TIME_BETWEEN_TOASTS = 2000;\n\nconst start = {\n    de: [\n        'Gute Frage! Nun gilt es aktiv zu werden: Tritt in die Pedale, um die Energie für die KI zu erzeugen!',\n        'Los gehts! Tritt in die Pedale und erzeuge die Energie für deine KI-Anfrage!'\n    ],\n    fr: [\n        'Bonne question ! Il est temps de passer à l’action : pédale pour générer l’énergie nécessaire à l’IA !',\n        'C’est parti ! Pédale pour produire l’énergie de ta requête IA !'\n    ]\n};\n\nconst startDebug = {\n    de: [\n        'Gute Frage! DEMO-MODUS: Mit dem Regler unten rechts kannst du simulieren, wie stark in die Pedale getreten wird.',\n    ],\n    fr: [\n        'Bonne question ! MODE DÉMO : Avec le curseur en bas à droite, tu peux simuler la force de pédalage.'\n    ]\n};\n\nconst end = {\n    de: [\n        'Geschafft! Du hast gerade ' + Replacer.WATTHOUR + ' Wattstunden Energie produziert!'\n    ],\n    fr: [\n        'Bravo ! Tu viens de produire ' + Replacer.WATTHOUR + ' wattheures d’énergie !'\n    ]\n};\n\nconst tooFast = {\n    de: [\n        'Wow! Du hast die Energie schneller erzeugt, als die KI gebraucht hat um die Antwort zu generieren. 💪',\n        'Du hast so kräftig in die Pedale getreten - die KI ist noch nicht ganz fertig mit der Antwort. ⚡️'\n    ],\n    fr: [\n        'Wow ! Tu as généré l’énergie plus vite que l’IA n’a mis pour répondre. 💪',\n        'Tu as pédalé tellement fort – l’IA n’a pas encore fini sa réponse. ⚡️'\n    ]\n};\n\nconst lowPercents = {\n    de: [\n        'Gut gestartet! Du hast schon ' + Replacer.PERCENT + '% der Energie generiert.',\n        'Du hast bereits ' + Replacer.PERCENT + '% der Energie erzeugt.',\n    ],\n    fr: [\n        'Bien commencé ! Tu as déjà généré ' + Replacer.PERCENT + '% de l’énergie.',\n        'Tu as déjà produit ' + Replacer.PERCENT + '% de l’énergie.'\n    ]\n};\n\nconst highPercents = {\n    de: [\n        'Du hast bereits ' + Replacer.PERCENT + '% der Energie erzeugt.',\n        'Du hast schon ' + Replacer.PERCENT + '% der benötigten Leistung erbracht.'\n    ],\n    fr: [\n        'Tu as déjà produit ' + Replacer.PERCENT + '% de l’énergie.',\n        'Tu as déjà atteint ' + Replacer.PERCENT + '% de la puissance nécessaire.'\n    ]\n};\n\nconst lastPercents = {\n    de: [\n        'Endspurt! Nur noch ' + Replacer.PERCENT + '% und du hast es geschafft!',\n        'Go Go Go! Du bist schon fast fertig!',\n        'Die letzten ' + Replacer.PERCENT + '% warten! Das schaffst du!'\n    ],\n    fr: [\n        'Dernière ligne droite ! Plus que ' + Replacer.PERCENT + '% et c’est gagné !',\n        'Allez, allez ! Tu es presque arrivé !',\n        'Les derniers ' + Replacer.PERCENT + '% t’attendent ! Tu peux le faire !'\n    ]\n};\n\nconst halfPercents = {\n    de: [\n        'Gut die Hälfte ist geschafft. Bleib dran!',\n        'Du hast bereits die Hälfte hinter dir. Weiter so!'\n    ],\n    fr: [\n        'Tu as fait la moitié. Continue comme ça !',\n        'La moitié est derrière toi. Courage !'\n    ]\n};\n\nconst highPower = {\n    de: [\n        'Heisst du Tadej Pogačar? Du drückst grad eindrückliche ' + Replacer.WATT + ' Watt!',\n        'Wow! ' + Replacer.WATT + ' Watt! Bist du gedopt?',\n        'Du sitzt nicht das erste Mal auf dem Velo, oder? ' + Replacer.WATT + ' Watt sind eindrücklich!'\n    ],\n    fr: [\n        'Tu t’appelles Tadej Pogačar ? Tu pousses ' + Replacer.WATT + ' watts impressionnants !',\n        'Wow ! ' + Replacer.WATT + ' watts ! Tu es dopé ?',\n        'Ce n’est pas ta première fois sur un vélo, hein ? ' + Replacer.WATT + ' watts, c’est énorme !'\n    ]\n};\n\nconst notLoaded = {\n    de: [\n        'Bleib dran, du machst das gut!',\n        'Weiter so!',\n        'Du leistest gerade ' + Replacer.WATT + ' Watt!'\n    ],\n    fr: [\n        'Continue, tu t’en sors bien !',\n        'Ne lâche rien !',\n        'Tu produis actuellement ' + Replacer.WATT + ' watts !'\n    ]\n};\n\nconst getStarted = {\n    de: [\n        'Tritt in die Pedale, um die Energie für die KI zu erzeugen.',\n        'Von alleine passiert nichts. Trete auf dem Home-Trainer, um die Antwort zu sehen.',\n        'Los, ich weiss du kannst das!',\n        'Lege jetzt los und tritt in die Pedale!'\n    ],\n    fr: [\n        'Pédale pour générer l’énergie nécessaire à l’IA.',\n        'Rien ne se passe tout seul. Pédale sur le vélo pour voir la réponse.',\n        'Allez, je sais que tu peux le faire !',\n        'C’est parti, pédale maintenant !'\n    ]\n};\n\nconst done = {\n    de: [\n        'Fertig! Du kannst aufhören zu treten!',\n        'Gratuliere, du hast es geschafft!',\n    ],\n    fr: [\n        'Terminé ! Tu peux arrêter de pédaler !',\n        'Félicitations, tu as réussi !'\n    ]\n};\n\nconst reallyDone = {\n    de: [\n        'Du hast kannst aufhören zu treten, du hast es geschafft!',\n        'Du hast die benötigte Energie erzeugt und kannst aufhören zu treten.'\n    ],\n    fr: [\n        'Tu peux arrêter de pédaler, c’est gagné !',\n        'Tu as produit l’énergie nécessaire, tu peux t’arrêter.'\n    ]\n};\n\nconst energyUsed = {\n    de: [\n        'Fertig! Du hast mehr als ' + Replacer.KCAL + ' kcal verbraucht, um diese Antwort anzuzeigen!',\n        'Uff! Das waren gerade über ' + Replacer.KCAL + ' kcal, die du verbraucht hast!',\n    ],\n    fr: [\n        'Terminé ! Tu as dépensé plus de ' + Replacer.KCAL + ' kcal pour afficher cette réponse !',\n        'Ouf ! Tu viens de brûler plus de ' + Replacer.KCAL + ' kcal !'\n    ]\n};\n\n\nlet lastToast = 0;\n\nfunction lastToastExpired(override = false): boolean {\n    const expired = Date.now() - MINIMAL_TIME_BETWEEN_TOASTS > lastToast;\n    if (expired) lastToast = Date.now();\n    return expired || override;\n}\n\nfunction getRandom(arr: string[], replacer?: Replacer, replacement: string = ''): string {\n    const i = Math.floor(Math.random() * arr.length);\n    return replacer\n        ? arr[i].replace(replacer, replacement)\n        : arr[i];\n}\n\nfunction getKiloCalsFromWatthour(wh: number): string {\n    const kcalWhFactor = 0.8598452279;\n    const bodyEfficiencyFactor = 0.25;\n    return (wh * kcalWhFactor / bodyEfficiencyFactor).toFixed(1);\n}\n\nexport default class ToastService {\n    static highPowerTimeout = false;\n    static lowPowerTimeout = false;\n    static notLoadedTimeout = false;\n    static done = false;\n    static startToast() {\n        this.done = false;\n        lastToastExpired() && store.addToast(getRandom(store.isDebug ? startDebug[store.lang] : start[store.lang]), 3000);\n    }\n    static stillPedalingToast() {\n        lastToastExpired(true) && store.addToast(getRandom(reallyDone[store.lang]), 3000);\n    }\n    static progressToast(percent: number, loaded: boolean, currentWatts: number) {\n        if (currentWatts > 400 && !this.highPowerTimeout) {\n            this.highPowerTimeout = true;\n            // wait 20 seconds before we trigger this toast again\n            window.setTimeout(() => this.highPowerTimeout = false, 20000);\n            return lastToastExpired() && store.addToast(getRandom(highPower[store.lang], Replacer.WATT, currentWatts.toString()), 3000);           \n        } else if (currentWatts < 10) {\n            if (!this.lowPowerTimeout) {\n                this.lowPowerTimeout = true;\n                // wait 10 seconds before we trigger this toast again\n                window.setTimeout(() => this.lowPowerTimeout = false, 10000);\n                return lastToastExpired() && store.addToast(getRandom(getStarted[store.lang]), 5000);    \n            } \n        } else if (!loaded) {\n            if (percent >= 100) {\n                // user completed before response from AI arrived\n                return lastToastExpired() && store.addToast(getRandom(tooFast[store.lang]), 5000);\n            } else if (!this.notLoadedTimeout) {\n                this.notLoadedTimeout = true;\n                // wait 6 seconds before we trigger this toast again\n                window.setTimeout(() => this.notLoadedTimeout = false, 6000);\n                return lastToastExpired() && store.addToast(getRandom(notLoaded[store.lang], Replacer.WATT, currentWatts.toString()), 3000);      \n            }\n        } else {\n            if (percent == 100 && !this.done) {\n                this.done = true;\n                return lastToastExpired() && store.addToast(getRandom(done[store.lang]), 5000);\n            } else if (percent > 80) {\n                return lastToastExpired() && store.addToast(getRandom(lastPercents[store.lang], Replacer.PERCENT, (100 - percent).toFixed(1)));\n            } else if (percent > 55) {\n                return lastToastExpired() && store.addToast(getRandom(highPercents[store.lang], Replacer.PERCENT, percent.toFixed(1)));\n            } else if (percent > 45) {\n                return lastToastExpired() && store.addToast(getRandom(halfPercents[store.lang], Replacer.PERCENT, percent.toFixed(1)));\n            } else {\n                return lastToastExpired() && store.addToast(getRandom(lowPercents[store.lang], Replacer.PERCENT, percent.toFixed(1)));\n            } \n        }\n    }\n\n    static energyToast(wh: number) {\n        store.addToast(getRandom(energyUsed[store.lang], Replacer.KCAL, getKiloCalsFromWatthour(wh)), 5000);\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = [\"onClick\"]\nconst _hoisted_2 = { class: \"prompt-number\" }\n\nimport { store } from '@/store';\n\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PromptExamples',\n  props: {\n    userInputting: Boolean\n  },\n  emits: ['onSelectPrompt'],\n  setup(__props, { emit: __emit }) {\n\n  const props = __props;\n\n  const emit = __emit;\n\n  document.addEventListener('keydown', function(event) {\n    const key = Number(event.key);\n    if (!props.userInputting && event.key != ' ' && !isNaN(key) && key <= store.examplePrompts.length) {\n      selectPrompt(key - 1);\n    }\n  }); \n\n\n  function selectPrompt(index: number) {\n    const prompt = store.examplePrompts[index];\n   \n    window.setTimeout(() => \n      emit('onSelectPrompt', prompt),\n      50\n    );\n  }\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"ul\", null, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).examplePrompts, (prompt, i) => {\n      return (_openBlock(), _createElementBlock(\"li\", {\n        onClick: ($event: any) => (selectPrompt(i))\n      }, [\n        _createElementVNode(\"span\", _hoisted_2, _toDisplayString(i + 1), 1 /* TEXT */),\n        _createElementVNode(\"p\", null, _toDisplayString(prompt), 1 /* TEXT */)\n      ], 8 /* PROPS */, _hoisted_1))\n    }), 256 /* UNKEYED_FRAGMENT */))\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\n  import { store } from '@/store';\n\n  const props = defineProps({\n    userInputting: Boolean\n  });\n\n  const emit = defineEmits(['onSelectPrompt']);\n\n  document.addEventListener('keydown', function(event) {\n    const key = Number(event.key);\n    if (!props.userInputting && event.key != ' ' && !isNaN(key) && key <= store.examplePrompts.length) {\n      selectPrompt(key - 1);\n    }\n  }); \n\n\n  function selectPrompt(index: number) {\n    const prompt = store.examplePrompts[index];\n   \n    window.setTimeout(() => \n      emit('onSelectPrompt', prompt),\n      50\n    );\n  }\n</script>\n\n<template>\n  <ul>\n    <li v-for=\"prompt, i of store.examplePrompts\" @click=\"selectPrompt(i)\">\n      <span class=\"prompt-number\">\n        {{ i + 1 }}\n      </span>\n      <p>\n        {{ prompt }}\n      </p>\n    </li>\n  </ul>\n</template>\n\n<style scoped>\n  ul {\n    list-style-type: none;\n    display: flex;\n    flex-direction: row;\n    position: absolute;\n    bottom: 2.9em;\n    padding: 0.5em;\n    background-color: aliceblue;\n    backdrop-filter: blur(3px);\n    -webkit-backdrop-filter: blur(3px);\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n  li {\n    display: inline-block;\n    cursor: pointer;\n    background-color: #eff1f3;\n    border-radius: 0.2rem;\n    padding: 0.4rem;\n    font-size: 0.5em;\n    width: 30%;\n    margin: 0 1em;\n    color: #4b647d;\n  }\n  li:hover {\n    background-color: #e0e4e8;\n  }\n  .prompt-number {\n    font-size: 2em;\n    color: #c1c9d1;\n    display: block;\n    position: relative;\n    top: -1rem;\n    right: 1rem;\n    height: 1.5rem;\n    width: 1.5rem;\n    text-align: center;\n    border-radius: 50%;\n    background-color: #e0e4e8;\n  }\n  p {\n    margin-bottom: 0;\n    margin-top: -1.5rem;\n    position: relative;\n    font-size: 1.7em;\n    z-index: 10;\n  }\n\n</style>\n","import script from \"./PromptExamples.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PromptExamples.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PromptExamples.vue?vue&type=style&index=0&id=5fa2f7ae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5fa2f7ae\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createBlock as _createBlock, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = {\n  ref: \"chat-list\",\n  class: \"chat-list\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"spinner-border\",\n  role: \"status\"\n}\nconst _hoisted_3 = [\"innerHTML\"]\nconst _hoisted_4 = {\n  action: \"#\",\n  ref: \"input-form\"\n}\nconst _hoisted_5 = [\"placeholder\"]\nconst _hoisted_6 = [\"disabled\"]\n\nimport { computed, ref, ShallowRef, useTemplateRef } from 'vue';\nimport { ENV } from '../../env';\nimport { type Message, USER_ROLE } from '@/models';\nimport axios from 'axios';\nimport markdownit from 'markdown-it';\nimport { store } from '../store';\nimport { AntSubscription } from '@/antService';\nimport ToastService from '@/toastService';\nimport PromptExamples from './PromptExamples.vue';\nimport { i18n } from '@/assets/i18n';\n\n// define props\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Chat',\n  props: {\n    token: {},\n    percent: {}\n  },\n  emits: ['onAnswer','onError'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst md = markdownit({\n  html: true,\n  linkify: true,\n  typographer: true\n});\n\n// define events\nconst emit = __emit;\n\nconst chat: ShallowRef = useTemplateRef('chat-list');\n\nconst loadingPercent = ref(0);\n\nconst userInput = ref(false);\nconst chatInput = ref(null);\nlet usage = -1;\nlet inputTimeout = -1;\n\nconst loadingStyle = computed(() => {\n  return 'filter: blur(' + (10 - Math.round(loadingPercent.value / 10)) + 'px);opacity:' + (0.009 * loadingPercent.value + 0.1).toFixed(2)  + ';';\n})\n\n/**\n * Estimates the energy usage for an answer, based on the number of output tokens. Samsi et al. estimated the energy usage with 3 - 4 Joule per token, which equals to ~0.001 Wh\n * @see Paper       Samsi et al. (2023): From Words to Watts: Benchmarking the Energy Costs of Large Language Model Inference. https://doi.org/10.48550/arXiv.2310.03003\n * @param tokens    number of output tokens of the answer\n * @returns         an estimation of energy (in Wh), based on the number of output tokens\n */\nfunction estimateEnergyUsage(tokens: number) {\n  return tokens * 3.5 / 3600; // 3.5 joules per token; 3600 J = 1 Wh\n}\n\n/**\n * Estimates the energy usage before knowing the answer\n * @returns         an estimation of energy (in Wh)\n */\nfunction preEstimateUsage() {\n  return 1;\n}\n\n/**\n * Checks if a message is currently the last\n * @param index   the index of the message\n * @returns       TRUE if the message is the last in the array\n *                FALSE if there are more messages after it in the array\n */\nfunction isLastMessage(index: number): boolean {\n  return store.chatMessages.length - index === 1;\n}\n\n/**\n * Sends a message to the model, with all previous messages as context\n */\nfunction send() {\n  if (store.textInput == '') return;\n\n  const message: Message = {\n    role: USER_ROLE.USER,\n    content: store.textInput,\n    loading: false\n  };\n  loadingPercent.value = 0;\n\n  store.chatMessages.push(message);\n\n  const body = {\n    model: ENV.MODEL,\n    messages: [...store.chatMessages]\n  }\n  store.textInput = '';\n\n  const answerMessage = {\n    role: USER_ROLE.AI,\n    content: '...',\n    loading: true,\n    percent: 0\n  };\n\n  ToastService.startToast();\n\n  store.chatMessages.push(answerMessage);\n  usage = -1;\n\n  chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\n\n  store.startAndSubscribe(\n    preEstimateUsage(),\n    (ant: AntSubscription) => {\n      answerMessage.percent = Math.min(ant.percent, 100);\n      loadingPercent.value = Math.min(ant.percent, 100);\n\n      ToastService.progressToast(\n        answerMessage.percent,\n        answerMessage.content !== '...',\n        ant.value\n      );\n      if (ant.percent >= 100 && usage > 0) {\n        ToastService.energyToast(usage);\n      }\n    }\n  );\n\n  const time = Date.now();\n  axios.post(\n    ENV.BASE_URL + ENV.ENDPOINT,\n    body,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + props.token\n      },\n    }\n  ).then((result) => {\n    const duration = Math.round((Date.now() - time) / 1000);\n    usage = estimateEnergyUsage(result.data.usage.completion_tokens);\n    store.setTarget(usage);\n\n    console.log('Energie verbraucht: ' + usage.toFixed(2) + ' Wh in ' + duration + ' Sekunden. \\nDas benötigt eine Durchschnittsleistung von ' + Math.round(3600 * usage / duration) + ' Watt.');\n\n    answerMessage.content = (result.data.choices[0].message.content as string).replaceAll('ß', 'ss');\n    answerMessage.loading = false;\n\n    // we need to do this, or vue won't detect the update...\n    store.chatMessages = [...store.chatMessages]\n\n    chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    emit('onAnswer', answerMessage);\n  }).catch((e) => {\n    console.error(e);\n    emit('onError', JSON.stringify(e, null, 2));\n  });\n}\n\n/**\n * Sets a 1 second timeout in which we don't listen to hotkey inputs\n */\nfunction inputting() {\n  userInput.value = true;\n  if (inputTimeout > 0) {\n    window.clearTimeout(inputTimeout);\n  }\n  inputTimeout = window.setTimeout(() => {\n    userInput.value = false;\n  }, 1000);\n}\n\nfunction setPrompt(prompt: string) {\n  if (!store.chatMessages[store.chatMessages.length -1]?.loading) {\n    store.textInput = prompt;\n    (chatInput.value as any)?.focus();\n  }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"ul\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).chatMessages, (message, i) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          class: _normalizeClass('message-bubble chat-' + message.role),\n          style: _normalizeStyle(\n        message.percent != undefined && message.percent < 100 && isLastMessage(i)\n          ? loadingStyle.value\n          : ''\n      )\n        }, [\n          (message.loading)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[1] || (_cache[1] = [\n                _createElementVNode(\"span\", { class: \"visually-hidden\" }, \"Loading...\", -1 /* CACHED */)\n              ])))\n            : (_openBlock(), _createElementBlock(\"div\", {\n                key: 1,\n                innerHTML: _unref(md).render(message.content)\n              }, null, 8 /* PROPS */, _hoisted_3))\n        ], 6 /* CLASS, STYLE */))\n      }), 256 /* UNKEYED_FRAGMENT */)),\n      _cache[2] || (_cache[2] = _createElementVNode(\"li\", { style: {\"height\":\"10em\",\"color\":\"white\"} }, null, -1 /* CACHED */))\n    ], 512 /* NEED_PATCH */),\n    (!_unref(store).isPedalling() && _unref(store).examplePrompts.length > 0)\n      ? (_openBlock(), _createBlock(PromptExamples, {\n          key: 0,\n          onOnSelectPrompt: setPrompt,\n          \"user-inputting\": userInput.value\n        }, null, 8 /* PROPS */, [\"user-inputting\"]))\n      : _createCommentVNode(\"v-if\", true),\n    _createElementVNode(\"form\", _hoisted_4, [\n      _withDirectives(_createElementVNode(\"input\", {\n        autofocus: \"\",\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(store).textInput) = $event)),\n        placeholder: _unref(i18n)(_unref(store).examplePrompts.length > 0 ? 'CHAT_PLACEHOLDER_PROMPTS' : 'CHAT_PLACEHOLDER'),\n        onInput: inputting,\n        ref_key: \"chatInput\",\n        ref: chatInput\n      }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_5), [\n        [_vModelText, _unref(store).textInput]\n      ]),\n      _createElementVNode(\"button\", {\n        onClick: send,\n        type: \"submit\",\n        disabled: _unref(store).isPedalling()\n      }, _toDisplayString(_unref(i18n)('SEND').toUpperCase()), 9 /* TEXT, PROPS */, _hoisted_6)\n    ], 512 /* NEED_PATCH */)\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed, ref, ShallowRef, useTemplateRef } from 'vue';\nimport { ENV } from '../../env';\nimport { type Message, USER_ROLE } from '@/models';\nimport axios from 'axios';\nimport markdownit from 'markdown-it';\nimport { store } from '../store';\nimport { AntSubscription } from '@/antService';\nimport ToastService from '@/toastService';\nimport PromptExamples from './PromptExamples.vue';\nimport { i18n } from '@/assets/i18n';\n\n// define props\nconst props = defineProps<{\n  token: string,\n  percent: number\n}>();\n\nconst md = markdownit({\n  html: true,\n  linkify: true,\n  typographer: true\n});\n\n// define events\nconst emit = defineEmits(['onAnswer','onError']);\n\nconst chat: ShallowRef = useTemplateRef('chat-list');\n\nconst loadingPercent = ref(0);\n\nconst userInput = ref(false);\nconst chatInput = ref(null);\nlet usage = -1;\nlet inputTimeout = -1;\n\nconst loadingStyle = computed(() => {\n  return 'filter: blur(' + (10 - Math.round(loadingPercent.value / 10)) + 'px);opacity:' + (0.009 * loadingPercent.value + 0.1).toFixed(2)  + ';';\n})\n\n/**\n * Estimates the energy usage for an answer, based on the number of output tokens. Samsi et al. estimated the energy usage with 3 - 4 Joule per token, which equals to ~0.001 Wh\n * @see Paper       Samsi et al. (2023): From Words to Watts: Benchmarking the Energy Costs of Large Language Model Inference. https://doi.org/10.48550/arXiv.2310.03003\n * @param tokens    number of output tokens of the answer\n * @returns         an estimation of energy (in Wh), based on the number of output tokens\n */\nfunction estimateEnergyUsage(tokens: number) {\n  return tokens * 3.5 / 3600; // 3.5 joules per token; 3600 J = 1 Wh\n}\n\n/**\n * Estimates the energy usage before knowing the answer\n * @returns         an estimation of energy (in Wh)\n */\nfunction preEstimateUsage() {\n  return 1;\n}\n\n/**\n * Checks if a message is currently the last\n * @param index   the index of the message\n * @returns       TRUE if the message is the last in the array\n *                FALSE if there are more messages after it in the array\n */\nfunction isLastMessage(index: number): boolean {\n  return store.chatMessages.length - index === 1;\n}\n\n/**\n * Sends a message to the model, with all previous messages as context\n */\nfunction send() {\n  if (store.textInput == '') return;\n\n  const message: Message = {\n    role: USER_ROLE.USER,\n    content: store.textInput,\n    loading: false\n  };\n  loadingPercent.value = 0;\n\n  store.chatMessages.push(message);\n\n  const body = {\n    model: ENV.MODEL,\n    messages: [...store.chatMessages]\n  }\n  store.textInput = '';\n\n  const answerMessage = {\n    role: USER_ROLE.AI,\n    content: '...',\n    loading: true,\n    percent: 0\n  };\n\n  ToastService.startToast();\n\n  store.chatMessages.push(answerMessage);\n  usage = -1;\n\n  chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\n\n  store.startAndSubscribe(\n    preEstimateUsage(),\n    (ant: AntSubscription) => {\n      answerMessage.percent = Math.min(ant.percent, 100);\n      loadingPercent.value = Math.min(ant.percent, 100);\n\n      ToastService.progressToast(\n        answerMessage.percent,\n        answerMessage.content !== '...',\n        ant.value\n      );\n      if (ant.percent >= 100 && usage > 0) {\n        ToastService.energyToast(usage);\n      }\n    }\n  );\n\n  const time = Date.now();\n  axios.post(\n    ENV.BASE_URL + ENV.ENDPOINT,\n    body,\n    {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + props.token\n      },\n    }\n  ).then((result) => {\n    const duration = Math.round((Date.now() - time) / 1000);\n    usage = estimateEnergyUsage(result.data.usage.completion_tokens);\n    store.setTarget(usage);\n\n    console.log('Energie verbraucht: ' + usage.toFixed(2) + ' Wh in ' + duration + ' Sekunden. \\nDas benötigt eine Durchschnittsleistung von ' + Math.round(3600 * usage / duration) + ' Watt.');\n\n    answerMessage.content = (result.data.choices[0].message.content as string).replaceAll('ß', 'ss');\n    answerMessage.loading = false;\n\n    // we need to do this, or vue won't detect the update...\n    store.chatMessages = [...store.chatMessages]\n\n    chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    emit('onAnswer', answerMessage);\n  }).catch((e) => {\n    console.error(e);\n    emit('onError', JSON.stringify(e, null, 2));\n  });\n}\n\n/**\n * Sets a 1 second timeout in which we don't listen to hotkey inputs\n */\nfunction inputting() {\n  userInput.value = true;\n  if (inputTimeout > 0) {\n    window.clearTimeout(inputTimeout);\n  }\n  inputTimeout = window.setTimeout(() => {\n    userInput.value = false;\n  }, 1000);\n}\n\nfunction setPrompt(prompt: string) {\n  if (!store.chatMessages[store.chatMessages.length -1]?.loading) {\n    store.textInput = prompt;\n    (chatInput.value as any)?.focus();\n  }\n}\n</script>\n\n<template>\n  <ul ref=\"chat-list\" class=\"chat-list\">\n    <li\n      v-for=\"(message, i) of store.chatMessages\"\n      :class=\"'message-bubble chat-' + message.role\"\n      :style=\"\n        message.percent != undefined && message.percent < 100 && isLastMessage(i)\n          ? loadingStyle\n          : ''\n      \"\n    >\n      <div v-if=\"message.loading\" class=\"spinner-border\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n      <div v-else v-html=\"md.render(message.content)\" />\n    </li>\n    <li style=\"height: 10em; color: white\"></li>\n  </ul>\n\n  <PromptExamples\n    @on-select-prompt=\"setPrompt\"\n    :user-inputting=\"userInput\"\n    v-if=\"!store.isPedalling() && store.examplePrompts.length > 0\"\n  />\n\n  <form action=\"#\" ref=\"input-form\">\n    <input\n      autofocus\n      type=\"text\"\n      v-model=\"store.textInput\"\n      :placeholder=\"i18n(store.examplePrompts.length > 0 ? 'CHAT_PLACEHOLDER_PROMPTS' : 'CHAT_PLACEHOLDER')\"\n      @input=\"inputting\"\n      ref=\"chatInput\"\n    />\n    <button @click=\"send\" type=\"submit\" :disabled=\"store.isPedalling()\">{{ i18n('SEND').toUpperCase() }}</button>\n  </form>\n</template>\n\n<style scoped>\nul.chat-list {\n  overflow: scroll;\n  height: 100vh;\n  margin-bottom: 0;\n  padding: 1em;\n  padding-top: 10em;\n}\nli:first-child {\n  margin-top: 3em;\n}\n.message-bubble {\n  list-style: none;\n  padding: 0.25em 1em;\n  border-radius: 1em;\n  width: 75%;\n  margin-top: 0.5em;\n  transition: opacity 1.2s ease, filter 1.2s ease;\n}\n.chat-user {\n  background-color: #64788b;\n  color: #eff1f3;\n  margin-left: 25%;\n}\n.chat-assistant {\n  background-color: #e0e4e8;\n  color: #4b647d;\n  margin-right: 25%;\n}\n.chat-developer {\n  display: none;\n}\n.spinner-border {\n  display: block;\n  height: 1em;\n  width: 1em;\n  margin-left: auto;\n  margin-right: auto;\n}\n\ninput {\n  border-bottom-left-radius: 1em;\n  border-top-left-radius: 1em;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  padding-left: 0.5em;\n  width: 75%;\n}\n\nbutton {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n  border-bottom-right-radius: 1em;\n  border-top-right-radius: 1em;\n  padding-right: 0.5em;\n  width: 25%;\n}\n\n.usage {\n  width: 100%;\n  margin-top: 1em;\n  display: block;\n  text-align: center;\n  color: darkgray;\n}\n\n.spinner-border {\n  margin-top: 2em;\n  margin-bottom: 2em;\n}\n.scroll-target {\n  height: 4em;\n  color: white;\n}\n</style>\n","export const ENV = {\n                // BeeChat                             // LM Studio\n    BASE_URL:   'https://inference.mlmp.ti.bfh.ch',    // 'http://localhost:1234',\n    ENDPOINT:   '/api/chat/completions',               // '/v1/chat/completions',        \n    MODEL:      \n                //  'beechat-v3-gpt-oss', \n                //  'gpt-oss:120b',\n                 'enerki', // use special BeeChat with system prompt\n    TOKEN:      ''                                      // 'not_needed_for_localhost' // insert your TOKEN here\n}","import script from \"./Chat.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Chat.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Chat.vue?vue&type=style&index=0&id=82039752&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-82039752\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"watts\" }\n\nimport { store } from '@/store';\n  import { ref, watch } from 'vue';\n  import { i18n } from '@/assets/i18n';\n\n  const MIN_WATT = 0;\n  const MAX_WATT = 500;\n\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PowerSimulator',\n  props: {\n    debug: Boolean,\n    watt: Number\n  },\n  setup(__props) {\n\n  const props = __props;\n\n  const simulatedWatt = ref(MIN_WATT);\n\n  watch(simulatedWatt, () => \n    store.power.setDebugWatt(simulatedWatt.value)\n  );\n\n  function getBackgroundColor(): string {\n    const calcWatt = (props.debug ? simulatedWatt.value : props.watt) || 0;\n    const clamped = Math.max(0, Math.min(MAX_WATT,calcWatt));\n\n    const green = { r: 182, g: 242, b: 195 }; \n    const yellow = { r: 255, g: 255, b: 102 }; \n    const red = { r: 139, g: 0, b: 0 };       \n\n    let start, end, t;\n\n    if (clamped <= MAX_WATT / 2) {\n      start = green;\n      end = yellow;\n      t = clamped / (MAX_WATT / 2);\n    } else {\n      start = yellow;\n      end = red;\n      t = (clamped - (MAX_WATT / 2)) / (MAX_WATT / 2);\n    }\n\n    return `background-color: rgba(${\n      Math.round(start.r + (end.r - start.r) * t)\n    }, ${\n      Math.round(start.g + (end.g - start.g) * t)\n    }, ${\n      Math.round(start.b + (end.b - start.b) * t)\n    }, 0.5)`;\n  }\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"power\",\n    style: _normalizeStyle(getBackgroundColor())\n  }, [\n    _createElementVNode(\"h3\", null, _toDisplayString(_unref(i18n)('POWERSIM_LABEL')), 1 /* TEXT */),\n    _createElementVNode(\"span\", _hoisted_1, _toDisplayString(__props.watt + ' ' + _unref(i18n)('POWERSIM_WATT')), 1 /* TEXT */),\n    (__props.debug )\n      ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n          key: 0,\n          type: \"range\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((simulatedWatt).value = $event)),\n          min: MIN_WATT,\n          max: MAX_WATT\n        }, null, 512 /* NEED_PATCH */)), [\n          [_vModelText, simulatedWatt.value]\n        ])\n      : _createCommentVNode(\"v-if\", true)\n  ], 4 /* STYLE */))\n}\n}\n\n})","<script setup lang=\"ts\">\n  import { store } from '@/store';\n  import { ref, watch } from 'vue';\n  import { i18n } from '@/assets/i18n';\n\n  const MIN_WATT = 0;\n  const MAX_WATT = 500;\n\n  const props = defineProps({\n    debug: Boolean,\n    watt: Number\n  });\n\n  const simulatedWatt = ref(MIN_WATT);\n\n  watch(simulatedWatt, () => \n    store.power.setDebugWatt(simulatedWatt.value)\n  );\n\n  function getBackgroundColor(): string {\n    const calcWatt = (props.debug ? simulatedWatt.value : props.watt) || 0;\n    const clamped = Math.max(0, Math.min(MAX_WATT,calcWatt));\n\n    const green = { r: 182, g: 242, b: 195 }; \n    const yellow = { r: 255, g: 255, b: 102 }; \n    const red = { r: 139, g: 0, b: 0 };       \n\n    let start, end, t;\n\n    if (clamped <= MAX_WATT / 2) {\n      start = green;\n      end = yellow;\n      t = clamped / (MAX_WATT / 2);\n    } else {\n      start = yellow;\n      end = red;\n      t = (clamped - (MAX_WATT / 2)) / (MAX_WATT / 2);\n    }\n\n    return `background-color: rgba(${\n      Math.round(start.r + (end.r - start.r) * t)\n    }, ${\n      Math.round(start.g + (end.g - start.g) * t)\n    }, ${\n      Math.round(start.b + (end.b - start.b) * t)\n    }, 0.5)`;\n  }\n\n</script>\n\n<template>\n  <div class=\"power\" :style=\"getBackgroundColor()\">\n    <h3>{{ i18n('POWERSIM_LABEL') }}</h3>\n    <span class=\"watts\">{{ watt + ' ' + i18n('POWERSIM_WATT') }}</span>\n    <input type=\"range\" v-if=\"debug \"v-model=\"simulatedWatt\" :min=\"MIN_WATT\" :max=\"MAX_WATT\"></input>\n  </div>\n</template>\n\n<style scoped>\n  .power {\n    position: absolute;\n    right: 2em;\n    bottom: 5em;\n    width: 12em;\n    border-radius: 0.5em;\n  }\n  .watts {\n    width: 100%;\n    text-align: center;\n    display: block;\n    font-size: 1.5em;\n    font-weight: 700;\n    padding: 0.2em;\n  }\n  input {\n    width: 90%;\n    margin: 5%;\n  }\n  h3 {\n    width: 100%;\n    font-size: 0.7em;\n    text-align: center;\n    margin-top: 0.5em;\n  }\n</style>\n","import script from \"./PowerSimulator.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PowerSimulator.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PowerSimulator.vue?vue&type=style&index=0&id=514c228e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-514c228e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"modal fade\",\n  id: \"quizcard-modal\"\n}\nconst _hoisted_2 = { class: \"modal-dialog\" }\nconst _hoisted_3 = { class: \"modal-content\" }\nconst _hoisted_4 = { class: \"modal-header\" }\nconst _hoisted_5 = { class: \"modal-title\" }\nconst _hoisted_6 = { class: \"modal-body\" }\nconst _hoisted_7 = { class: \"additional\" }\nconst _hoisted_8 = { class: \"question\" }\nconst _hoisted_9 = { class: \"additional\" }\n\nimport { QuizCard } from \"@/models\";\nimport { i18n } from \"@/assets/i18n\";\nimport { store } from \"@/store\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'QuizCardModal',\n  props: {\n    card: {}\n  },\n  emits: [\"onClose\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst emit = __emit;\nconst props = __props; \n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"background\" }, null, -1 /* CACHED */)),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"h1\", _hoisted_5, _toDisplayString(_unref(i18n)('QUIZCARD_TITLE') + _ctx.card.id), 1 /* TEXT */),\n            _createElementVNode(\"span\", {\n              class: \"close-button\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('onClose')))\n            }, \"×\")\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"p\", _hoisted_7, _toDisplayString(_unref(i18n)('QUIZCARD_DESCRIPTION')), 1 /* TEXT */),\n            _createElementVNode(\"p\", _hoisted_8, _toDisplayString(_ctx.card.question[_unref(store).lang]), 1 /* TEXT */),\n            _createElementVNode(\"p\", _hoisted_9, _toDisplayString(_unref(i18n)('QUIZCARD_INSTRUCTION')), 1 /* TEXT */)\n          ])\n        ])\n      ])\n    ])\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { QuizCard } from \"@/models\";\nimport { i18n } from \"@/assets/i18n\";\nimport { store } from \"@/store\";\n\nconst emit = defineEmits([\"onClose\"]);\nconst props = defineProps<{\n  card: QuizCard\n}>(); \n</script>\n\n<template>\n  <div class=\"background\" />\n  <div class=\"modal fade\" id=\"quizcard-modal\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h1 class=\"modal-title\">{{i18n('QUIZCARD_TITLE') + card.id}}</h1>\n          <span class=\"close-button\" @click=\"emit('onClose')\">×</span>\n        </div>\n        <div class=\"modal-body\">\n          <p class=\"additional\">{{i18n('QUIZCARD_DESCRIPTION')}}</p>\n          <p class=\"question\">{{ card.question[store.lang] }}</p>\n          <p class=\"additional\">{{i18n('QUIZCARD_INSTRUCTION')}}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.background {\n  backdrop-filter: blur(3px);\n  -webkit-backdrop-filter: blur(3px);\n  background-color: rgba(255, 255, 255, .5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 15 !important;\n}\n.modal {\n  display: contents;\n  border-color: #4b647d;\n}\np {\n  color: #4b647d;\n}\np.additional {\n  font-size: 0.8em;\n  margin-bottom: 0;\n}\np.question {\n  margin: 1em;\n}\n.modal-content {\n  top: 10vh;\n}\n.modal-header {\n  background-color: #fac300;\n  color: #4b647d;\n}\n.modal-dialog {\n  z-index: 20 !important;\n}\nh1 {\n  font-size: 1.2em;\n}\n.close-button {\n  cursor: pointer;\n  text-decoration: none;\n  width: 1em;\n  margin-left: auto;\n}\n.close-button:hover {\n  opacity: 0.8;\n}\n</style>\n","import script from \"./QuizCardModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./QuizCardModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./QuizCardModal.vue?vue&type=style&index=0&id=205e369a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-205e369a\"]])\n\nexport default __exports__","import { QuizCard } from \"@/models\";\n\nexport const QUIZ: QuizCard[] = [\n    {\n        id: '1',\n        question: {\n            de: 'Wie viel Energie verbraucht ein ChatGPT-Prompt im Durchschnitt?',\n            fr: 'Combien d’énergie consomme en moyenne une requête ChatGPT ?'\n        },\n        prompts: {\n            de: [\n                'Kurze Antwort: Wie viel Energie verbraucht ein ChatGPT-Prompt im Durchschnitt?',\n                'Ausführliche Antwort: Wie viel Energie verbraucht ein ChatGPT-Prompt im Durchschnitt?',\n                'Verbraucht ein ChatGPT-Prompt so viel Energie wie eine LED-Lampe in einer Sekunde, ein Smartphone in zehn Sekunden oder ein Laptop in einer Minute?'\n            ],\n            fr: [\n                'Réponse courte : Combien d’énergie consomme en moyenne une requête ChatGPT ?',\n                'Réponse détaillée : Combien d’énergie consomme en moyenne une requête ChatGPT ?',\n                'Une requête ChatGPT consomme-t-elle autant d’énergie qu’une ampoule LED en une seconde, qu’un smartphone en dix secondes ou qu’un ordinateur portable en une minute ?'\n            ]\n        }\n    },\n    {\n        id: '2',\n        question: {\n            de: 'Wieviel CO₂ verursacht eine Google-Suche?',\n            fr: 'Combien de CO₂ génère une recherche Google ?'\n        },\n        prompts: {\n            de: [\n                'Wie viel CO₂ entsteht bei einer durchschnittlichen Google-Suche?',\n                'Was erzeugt mehr CO₂: Eine Frage durch Google zu beantworten, oder mit einem KI-Modell? Erstelle eine Tabelle mit den wichtigsten Einfluss-Faktoren.',\n                'Was erzeugt mehr CO₂: Eine Frage durch Google zu beantworten, oder mit einem KI-Modell? Halte die Antwort kurz.'\n            ],\n            fr: [\n                'Combien de CO₂ est généré par une recherche Google moyenne ?',\n                'Qu’est-ce qui génère plus de CO₂ : répondre à une question via Google ou via un modèle d’IA ? Crée un tableau avec les principaux facteurs d’influence.',\n                'Qu’est-ce qui génère plus de CO₂ : répondre à une question via Google ou via un modèle d’IA ? Donne une réponse courte.'\n            ]\n        }\n    },\n    {\n        id: '3',\n        question: {\n            de: 'Wie wirkt sich die steigende Nutzung energieintensiver digitaler Technologien langfristig auf die Gesundheit aus?',\n            fr: 'Quel est l’impact à long terme de l’utilisation croissante des technologies numériques énergivores sur la santé ?'\n        },\n        prompts: {\n            de: [\n                'Neben dem ökologischen Fussabdruck: Welches Gesundheitsrisiko ist mit exzessiver digitaler Nutzung verbunden?',\n                'Neben dem ökologischen Fussabdruck: Welches Gesundheitsrisiko ist mit exzessiver digitaler Nutzung verbunden? Mache mir eine ausführliche Analyse.',\n                'Neben dem ökologischen Fussabdruck: Welches Gesundheitsrisiko ist mit exzessiver digitaler Nutzung verbunden? Gib mir eine möglichst kurze Antwort.'\n            ],\n            fr: [\n                'En dehors de l’empreinte écologique : quel risque pour la santé est lié à une utilisation excessive du numérique ?',\n                'En dehors de l’empreinte écologique : quel risque pour la santé est lié à une utilisation excessive du numérique ? Fais une analyse détaillée.',\n                'En dehors de l’empreinte écologique : quel risque pour la santé est lié à une utilisation excessive du numérique ? Donne une réponse courte.'\n            ]\n        }\n    },\n    {\n        id: '4',\n        question: {\n            de: 'Um wie viel Grad hat sich die durchschnittliche Erdtemperatur seit der vorindustriellen Zeit erhöht?',\n            fr: 'De combien de degrés la température moyenne de la Terre a-t-elle augmenté depuis l’époque préindustrielle ?'\n        },\n        prompts: {\n            de: [\n                'Um wie viel Grad hat sich die durchschnittliche Erdtemperatur seit der vorindustriellen Zeit erhöht?',\n                'Um wie viel Grad hat sich die durchschnittliche Erdtemperatur seit der vorindustriellen Zeit erhöht? Mache mir eine ausführliche Analyse.',\n                'Um wie viel Grad hat sich die durchschnittliche Erdtemperatur seit der vorindustriellen Zeit erhöht? Gib mir eine möglichst kurze Antwort.'\n            ],\n            fr: [\n                'De combien de degrés la température moyenne de la Terre a-t-elle augmenté depuis l’époque préindustrielle ?',\n                'De combien de degrés la température moyenne de la Terre a-t-elle augmenté depuis l’époque préindustrielle ? Fais une analyse détaillée.',\n                'De combien de degrés la température moyenne de la Terre a-t-elle augmenté depuis l’époque préindustrielle ? Donne une réponse courte.'\n            ]\n        }\n    },\n    {\n        id: '5',\n        question: {\n            de: 'Was ist laut der WHO die grösste Gesundheitsbedrohung für die Menschheit im 21. Jahrhundert?',\n            fr: 'Selon l’OMS, quelle est la plus grande menace pour la santé de l’humanité au XXIe siècle ?'\n        },\n        prompts: {\n            de: [\n                'Was ist laut der WHO die grösste Gesundheitsbedrohung für die Menschheit im 21. Jahrhundert?',\n                'Was ist laut der WHO die grösste Gesundheitsbedrohung für die Menschheit im 21. Jahrhundert? Mache mir eine ausführliche Analyse.',\n                'Was ist laut der WHO die grösste Gesundheitsbedrohung für die Menschheit im 21. Jahrhundert? Gib mir eine möglichst kurze Antwort.'\n            ],\n            fr: [\n                'Selon l’OMS, quelle est la plus grande menace pour la santé de l’humanité au XXIe siècle ?',\n                'Selon l’OMS, quelle est la plus grande menace pour la santé de l’humanité au XXIe siècle ? Fais une analyse détaillée.',\n                'Selon l’OMS, quelle est la plus grande menace pour la santé de l’humanité au XXIe siècle ? Donne une réponse courte.'\n            ]\n        }\n    },\n    {\n        id: '6',\n        question: {\n            de: 'Welche Transportmittel sollen laut WHO in Städten priorisiert werden?',\n            fr: 'Quels moyens de transport doivent être prioritaires dans les villes selon l’OMS ?'\n        },\n        prompts: {\n            de: [\n                'Welche Transportmittel sollen laut WHO in Städten priorisiert werden?',\n                'Welche Transportmittel sollen laut WHO in Städten priorisiert werden? Mache mir eine ausführliche Analyse.',\n                'Welche Transportmittel sollen laut WHO in Städten priorisiert werden? Gib mir eine möglichst kurze Antwort.'\n            ],\n            fr: [\n                'Quels moyens de transport doivent être prioritaires dans les villes selon l’OMS ?',\n                'Quels moyens de transport doivent être prioritaires dans les villes selon l’OMS ? Fais une analyse détaillée.',\n                'Quels moyens de transport doivent être prioritaires dans les villes selon l’OMS ? Donne une réponse courte.'\n            ]\n        }\n    },\n    {\n        id: '7',\n        question: {\n            de: 'Schätze, wie viel Prozent der Menschen atmen laut WHO-Daten ungesunde Aussenluft ein, die grösstenteils durch die Verbrennung fossiler Brennstoffe verursacht wird?',\n            fr: 'Estimez quel pourcentage de personnes respirent un air extérieur malsain, principalement causé par la combustion de combustibles fossiles, selon les données de l’OMS ?'\n        },\n        prompts: {\n            de: [\n                'Wie viel Prozent der Menschen atmen laut WHO-Daten ungesunde Aussenluft ein, die grösstenteils durch die Verbrennung fossiler Brennstoffe verursacht wird?',\n                'Wie viel Prozent der Menschen atmen laut WHO-Daten ungesunde Aussenluft ein, die grösstenteils durch die Verbrennung fossiler Brennstoffe verursacht wird? Mache mir eine ausführliche Analyse.',\n                'Wie viel Prozent der Menschen atmen laut WHO-Daten ungesunde Aussenluft ein, die grösstenteils durch die Verbrennung fossiler Brennstoffe verursacht wird? Gib mir eine möglichst kurze Antwort.'\n            ],\n            fr: [\n                'Quel pourcentage de personnes respirent un air extérieur malsain, principalement causé par la combustion de combustibles fossiles, selon les données de l’OMS ?',\n                'Quel pourcentage de personnes respirent un air extérieur malsain, principalement causé par la combustion de combustibles fossiles, selon les données de l’OMS ? Fais une analyse détaillée.',\n                'Quel pourcentage de personnes respirent un air extérieur malsain, principalement causé par la combustion de combustibles fossiles, selon les données de l’OMS ? Donne une réponse courte.'\n            ]\n        }\n    }\n];","import { QuizCard } from \"./models\";\nimport { QUIZ } from \"./assets/quizcards\";\n\nexport default class QuizService {\n    static lastQuizCard = -1;\n    constructor() {}\n\n    static drawRandomQuizCard(): QuizCard {\n        let i = Math.floor(Math.random() * QUIZ.length);\n        // don't draw the same card twice in a row\n        while (i == this.lastQuizCard) {\n            i = Math.floor(Math.random() * QUIZ.length);\n        }\n        this.lastQuizCard = i;\n        return QUIZ[i];\n    }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = [\"src\", \"title\"]\nconst _hoisted_2 = { class: \"header-buttons\" }\nconst _hoisted_3 = [\"onClick\", \"title\"]\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"error\"\n}\nconst _hoisted_7 = { class: \"toast-list\" }\nconst _hoisted_8 = {\n  class: \"alert alert-info\",\n  role: \"alert\"\n}\n\nimport { ref } from \"vue\";\n  import { ENV } from \"../env\";\n  import AuthForm from \"./components/AuthForm.vue\";\n  import ConnectModal from \"./components/ConnectModal.vue\";\n  import Settings from \"./components/Settings.vue\";\n  import Chat from \"./components/Chat.vue\";\n  import { getPersisted, LANG, persist, store, STORE_KEY } from \"./store\";\n  import PowerSimulator from './components/PowerSimulator.vue';\n  import QuizCardModal from \"./components/QuizCardModal.vue\";\n  import QuizService from \"./quizService\";\n  import { QuizCard } from \"./models\";\nimport { i18n } from \"./assets/i18n\";\n\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\n  const version = require('../package.json').version;\n\n  const token = ref(getPersisted<string>(STORE_KEY.TOKEN) || ENV.TOKEN);\n\n  const error = ref<string | undefined>();\n\n  const percent = ref<number>(0);\n\n  const activeCard = ref<QuizCard | undefined>();\n  const showCardModal = ref(false);\n\n  const showSettings = ref(false);\n\n  document.addEventListener('keydown', function(event) {\n    if (showCardModal.value && event.key == 'Enter') {\n      showCardModal.value = false;\n    } else if (event.key == 'Enter' && store.textInput == '') {\n      showCard();\n    }\n  });\n\n  /**\n   * Calculates the header buttons\n   */\n  function getHeaderButtons() {\n    return [\n      {\n        icon: '🀙',\n        title: activeCard.value == undefined \n          ? i18n('NEW_CARD')\n          : i18n('SHOW_CARD'),\n        action: showCard,\n        style: activeCard.value == undefined \n          ? 'line-height: 1.8em;'\n          : 'text-shadow: #fac300 0px 0 3px; line-height: 1.8em;'\n      },\n      {\n        icon: '⟲',\n        title: i18n('RESET'),\n        action: resetUser,\n        style: ''\n      },\n      {\n        icon: store.lang === LANG.DE ? '🇩🇪' : '🇫🇷',\n        title: i18n('LANGUAGE'),\n        action: toggleLanguage,\n        style: 'filter: saturate(0)'\n      },\n      // {\n      //   icon: '⚙︎',\n      //   title: 'Einstellungen',\n      //   action: () => showSettings.value = !showSettings.value,\n      //   style: ''\n      // }\n    ];\n  }\n\n  /**\n   * Sets the token recieved from authentication\n   * @param t    object with the new token and a boolean value\n   *             that defines if the token should be persistet to local storage\n   */\n  function setToken(t: {token: string, persist: boolean}) {\n    token.value = t.token;\n    if (t.persist) {\n      persist(STORE_KEY.TOKEN, token.value);\n    }\n  }\n\n  /**\n   * \n   */\n  function toggleLanguage() {\n    switch (store.lang) {\n      case LANG.DE: \n        store.lang = LANG.FR;\n        break;\n      case LANG.FR:\n        store.lang = LANG.DE;\n        break;\n    }\n  }\n\n  /**\n   * Resets the app to start with a new user\n   */\n  function resetUser() {\n     if (\n      confirm(i18n('RESET_USER'))\n    ) {\n      activeCard.value = undefined;\n      store.resetUser();\n    }\n  }\n\n\n  /**\n   * Resets the whole app\n   */\n  function reset() {\n    resetUser();\n    error.value = undefined;\n    token.value = ENV.TOKEN;\n  }\n\n  /**\n   * Draws a new quiz card and sets the example prompts.\n   */\n  function showCard() {\n    if (activeCard.value == undefined) {\n      activeCard.value = QuizService.drawRandomQuizCard();\n      store.examplePrompts = activeCard.value.prompts[store.lang];\n    }\n    showCardModal.value = true;\n  }\n\n  /**\n   * Handles an error and displays it to the user\n   * @param error   the error message to display to the user\n   */\n  function handleError(e: string = \"Unbekannter Fehler.\") {\n    error.value = e;\n  }\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"header\", null, [\n      _createElementVNode(\"img\", {\n        src: require('@/assets/logo.png'),\n        alt: \"Logo Berner Fachhochschule\",\n        class: \"logo\",\n        title: 'EnerKI Version: '+_unref(version)\n      }, null, 8 /* PROPS */, _hoisted_1),\n      _cache[2] || (_cache[2] = _createElementVNode(\"h1\", null, \"enerKI\", -1 /* CACHED */)),\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(getHeaderButtons(), (b) => {\n          return (_openBlock(), _createElementBlock(\"a\", {\n            onClick: b.action,\n            title: b.title,\n            class: \"header-button\",\n            style: _normalizeStyle(b.style)\n          }, _toDisplayString(b.icon), 13 /* TEXT, STYLE, PROPS */, _hoisted_3))\n        }), 256 /* UNKEYED_FRAGMENT */))\n      ])\n    ]),\n    (showSettings.value)\n      ? (_openBlock(), _createBlock(Settings, {\n          key: 0,\n          onOnClose: _cache[0] || (_cache[0] = ($event: any) => (showSettings.value = false))\n        }))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createCommentVNode(\" if no token is set, we show the auth form \"),\n          (token.value?.length == 0)\n            ? (_openBlock(), _createBlock(AuthForm, {\n                key: 0,\n                onOnToken: setToken,\n                onOnError: handleError\n              }))\n            : (_openBlock(), _createElementBlock(\"main\", _hoisted_5, [\n                _createCommentVNode(\" display error message \"),\n                (error.value)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                      _createElementVNode(\"h2\", null, _toDisplayString(_unref(i18n)('ERROR')), 1 /* TEXT */),\n                      _createTextVNode(\" \" + _toDisplayString(error.value) + \" \", 1 /* TEXT */),\n                      _createElementVNode(\"button\", { onClick: reset }, _toDisplayString(_unref(i18n)('ERROR')), 1 /* TEXT */)\n                    ]))\n                  : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                      _createCommentVNode(\" chat window \"),\n                      _createVNode(Chat, {\n                        token: token.value,\n                        percent: percent.value,\n                        onOnError: handleError\n                      }, null, 8 /* PROPS */, [\"token\", \"percent\"])\n                    ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)),\n                _createCommentVNode(\" window for power simulation / debug \"),\n                (_unref(store).connected && _unref(store).isPedalling())\n                  ? (_openBlock(), _createBlock(PowerSimulator, {\n                      key: 2,\n                      debug: _unref(store).isDebug,\n                      watt: Math.round(_unref(store).power.getValues().value)\n                    }, null, 8 /* PROPS */, [\"debug\", \"watt\"]))\n                  : _createCommentVNode(\"v-if\", true)\n              ])),\n          (!_unref(store).connected)\n            ? (_openBlock(), _createBlock(ConnectModal, {\n                key: 2,\n                onOnError: handleError\n              }))\n            : _createCommentVNode(\"v-if\", true),\n          (activeCard.value && showCardModal.value)\n            ? (_openBlock(), _createBlock(QuizCardModal, {\n                key: 3,\n                card: activeCard.value,\n                onOnClose: _cache[1] || (_cache[1] = ($event: any) => (showCardModal.value = false))\n              }, null, 8 /* PROPS */, [\"card\"]))\n            : _createCommentVNode(\"v-if\", true),\n          _createElementVNode(\"ul\", _hoisted_7, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).toasts, (toast, i) => {\n              return (_openBlock(), _createElementBlock(\"li\", {\n                style: _normalizeStyle('opacity: ' + (i + 1) / _unref(store).toasts.length)\n              }, [\n                _createElementVNode(\"div\", _hoisted_8, _toDisplayString(toast), 1 /* TEXT */)\n              ], 4 /* STYLE */))\n            }), 256 /* UNKEYED_FRAGMENT */))\n          ])\n        ]))\n  ], 64 /* STABLE_FRAGMENT */))\n}\n}\n\n})","<script setup lang=\"ts\">\n  import { ref } from \"vue\";\n  import { ENV } from \"../env\";\n  import AuthForm from \"./components/AuthForm.vue\";\n  import ConnectModal from \"./components/ConnectModal.vue\";\n  import Settings from \"./components/Settings.vue\";\n  import Chat from \"./components/Chat.vue\";\n  import { getPersisted, LANG, persist, store, STORE_KEY } from \"./store\";\n  import PowerSimulator from './components/PowerSimulator.vue';\n  import QuizCardModal from \"./components/QuizCardModal.vue\";\n  import QuizService from \"./quizService\";\n  import { QuizCard } from \"./models\";\nimport { i18n } from \"./assets/i18n\";\n\n  const version = require('../package.json').version;\n\n  const token = ref(getPersisted<string>(STORE_KEY.TOKEN) || ENV.TOKEN);\n\n  const error = ref<string | undefined>();\n\n  const percent = ref<number>(0);\n\n  const activeCard = ref<QuizCard | undefined>();\n  const showCardModal = ref(false);\n\n  const showSettings = ref(false);\n\n  document.addEventListener('keydown', function(event) {\n    if (showCardModal.value && event.key == 'Enter') {\n      showCardModal.value = false;\n    } else if (event.key == 'Enter' && store.textInput == '') {\n      showCard();\n    }\n  });\n\n  /**\n   * Calculates the header buttons\n   */\n  function getHeaderButtons() {\n    return [\n      {\n        icon: '🀙',\n        title: activeCard.value == undefined \n          ? i18n('NEW_CARD')\n          : i18n('SHOW_CARD'),\n        action: showCard,\n        style: activeCard.value == undefined \n          ? 'line-height: 1.8em;'\n          : 'text-shadow: #fac300 0px 0 3px; line-height: 1.8em;'\n      },\n      {\n        icon: '⟲',\n        title: i18n('RESET'),\n        action: resetUser,\n        style: ''\n      },\n      {\n        icon: store.lang === LANG.DE ? '🇩🇪' : '🇫🇷',\n        title: i18n('LANGUAGE'),\n        action: toggleLanguage,\n        style: 'filter: saturate(0)'\n      },\n      // {\n      //   icon: '⚙︎',\n      //   title: 'Einstellungen',\n      //   action: () => showSettings.value = !showSettings.value,\n      //   style: ''\n      // }\n    ];\n  }\n\n  /**\n   * Sets the token recieved from authentication\n   * @param t    object with the new token and a boolean value\n   *             that defines if the token should be persistet to local storage\n   */\n  function setToken(t: {token: string, persist: boolean}) {\n    token.value = t.token;\n    if (t.persist) {\n      persist(STORE_KEY.TOKEN, token.value);\n    }\n  }\n\n  /**\n   * \n   */\n  function toggleLanguage() {\n    switch (store.lang) {\n      case LANG.DE: \n        store.lang = LANG.FR;\n        break;\n      case LANG.FR:\n        store.lang = LANG.DE;\n        break;\n    }\n  }\n\n  /**\n   * Resets the app to start with a new user\n   */\n  function resetUser() {\n     if (\n      confirm(i18n('RESET_USER'))\n    ) {\n      activeCard.value = undefined;\n      store.resetUser();\n    }\n  }\n\n\n  /**\n   * Resets the whole app\n   */\n  function reset() {\n    resetUser();\n    error.value = undefined;\n    token.value = ENV.TOKEN;\n  }\n\n  /**\n   * Draws a new quiz card and sets the example prompts.\n   */\n  function showCard() {\n    if (activeCard.value == undefined) {\n      activeCard.value = QuizService.drawRandomQuizCard();\n      store.examplePrompts = activeCard.value.prompts[store.lang];\n    }\n    showCardModal.value = true;\n  }\n\n  /**\n   * Handles an error and displays it to the user\n   * @param error   the error message to display to the user\n   */\n  function handleError(e: string = \"Unbekannter Fehler.\") {\n    error.value = e;\n  }\n</script>\n\n<template>\n  <header>\n    <img :src=\"require('@/assets/logo.png')\" alt=\"Logo Berner Fachhochschule\" class=\"logo\" :title=\"'EnerKI Version: '+version\" />\n    <h1>enerKI</h1>\n    <div class=\"header-buttons\">\n      <a v-for=\"b of getHeaderButtons()\" @click=\"b.action\" :title=\"b.title\" class=\"header-button\" :style=\"b.style\">{{ b.icon }}</a>\n    </div>\n  </header>\n  <Settings v-if=\"showSettings\" @on-close=\"showSettings = false\"/>\n  <div v-else>\n    <!-- if no token is set, we show the auth form -->\n    <auth-form v-if=\"token?.length == 0\" @on-token=\"setToken\" @on-error=\"handleError\" />\n\n    <main v-else>\n      <!-- display error message -->\n      <div class=\"error\" v-if=\"error\">\n        <h2>{{i18n('ERROR')}}</h2>\n        {{ error }}\n        <button @click=\"reset\">{{i18n('ERROR')}}</button>\n      </div>\n\n      <!-- chat window -->\n      <chat v-else \n        :token=\"token\" \n        :percent=\"percent\"\n        @on-error=\"handleError\" \n      />  \n\n      <!-- window for power simulation / debug -->\n      <PowerSimulator v-if=\"store.connected && store.isPedalling()\" :debug=\"store.isDebug\" :watt=\"Math.round(store.power.getValues().value)\"/>\n    </main>\n\n    <ConnectModal v-if=\"!store.connected\" @on-error=\"handleError\" />\n    <QuizCardModal v-if=\"activeCard && showCardModal\" :card=\"activeCard\" @on-close=\"showCardModal = false\"/>\n\n    <ul class=\"toast-list\">\n      <li\n        v-for=\"(toast, i) of store.toasts\"\n        :style=\"'opacity: ' + (i + 1) / store.toasts.length\"\n      >\n        <div class=\"alert alert-info\" role=\"alert\">\n          {{ toast }}\n        </div>\n      </li>\n    </ul>\n  </div>\n \n</template>\n\n<style scoped>\n.error {\n  background-color: salmon;\n  color: white;\n  margin: 1em;\n  width: 100%;\n  padding: 0.5em;\n  border-radius: 0.5em;\n}\nheader {\n  color: #697d91;\n  display:flex;\n  flex-direction: row;\n}\n\nheader h1 {\n  line-height: 1.6em;\n  margin-left: 1em;\n}\n\n.error h2 {\n  font-size: 1.5em;\n  font-weight: bold;\n}\n.header-buttons {\n  width: 6em;\n  margin-left: auto;\n  justify-content: space-evenly;\n  display: flex;\n}\n.header-button {\n  cursor: pointer;\n  text-decoration: none;\n  color: #c1c9d1;\n  font-size: 2em;\n  line-height: 2em;\n  margin-left: 0.2em;\n}\n.glow {\n  text-shadow: #fac300 0px 0 3px;\n}\n\n.header-button:hover {\n  color: #697d91;\n  filter: saturate(1) !important; \n}\n\n.logo {\n  height: 2.5em;\n  margin: 0.75em;\n}\n\n.toast-list {\n  list-style-type: none;\n  position: fixed;\n  bottom: 30%;\n  width: 60%;\n  margin-left: 20%;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=f6249304&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f6249304\"]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue';\n\n// Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst app = createApp(App);\napp.mount('#app');\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./App.vue?vue&type=style&index=0&id=f6249304&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9efde240\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./App.vue?vue&type=style&index=0&id=f6249304&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./App.vue?vue&type=style&index=0&id=f6249304&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./QuizCardModal.vue?vue&type=style&index=0&id=205e369a&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2e4cac95\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./QuizCardModal.vue?vue&type=style&index=0&id=205e369a&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./QuizCardModal.vue?vue&type=style&index=0&id=205e369a&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.error[data-v-f6249304] {\n  background-color: salmon;\n  color: white;\n  margin: 1em;\n  width: 100%;\n  padding: 0.5em;\n  border-radius: 0.5em;\n}\nheader[data-v-f6249304] {\n  color: #697d91;\n  display:flex;\n  flex-direction: row;\n}\nheader h1[data-v-f6249304] {\n  line-height: 1.6em;\n  margin-left: 1em;\n}\n.error h2[data-v-f6249304] {\n  font-size: 1.5em;\n  font-weight: bold;\n}\n.header-buttons[data-v-f6249304] {\n  width: 6em;\n  margin-left: auto;\n  justify-content: space-evenly;\n  display: flex;\n}\n.header-button[data-v-f6249304] {\n  cursor: pointer;\n  text-decoration: none;\n  color: #c1c9d1;\n  font-size: 2em;\n  line-height: 2em;\n  margin-left: 0.2em;\n}\n.glow[data-v-f6249304] {\n  text-shadow: #fac300 0px 0 3px;\n}\n.header-button[data-v-f6249304]:hover {\n  color: #697d91;\n  filter: saturate(1) !important;\n}\n.logo[data-v-f6249304] {\n  height: 2.5em;\n  margin: 0.75em;\n}\n.toast-list[data-v-f6249304] {\n  list-style-type: none;\n  position: fixed;\n  bottom: 30%;\n  width: 60%;\n  margin-left: 20%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\";AA6LA;EACE,wBAAwB;EACxB,YAAY;EACZ,WAAW;EACX,WAAW;EACX,cAAc;EACd,oBAAoB;AACtB;AACA;EACE,cAAc;EACd,YAAY;EACZ,mBAAmB;AACrB;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;AAEA;EACE,gBAAgB;EAChB,iBAAiB;AACnB;AACA;EACE,UAAU;EACV,iBAAiB;EACjB,6BAA6B;EAC7B,aAAa;AACf;AACA;EACE,eAAe;EACf,qBAAqB;EACrB,cAAc;EACd,cAAc;EACd,gBAAgB;EAChB,kBAAkB;AACpB;AACA;EACE,8BAA8B;AAChC;AAEA;EACE,cAAc;EACd,8BAA8B;AAChC;AAEA;EACE,aAAa;EACb,cAAc;AAChB;AAEA;EACE,qBAAqB;EACrB,eAAe;EACf,WAAW;EACX,UAAU;EACV,gBAAgB;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n  import { ref } from \\\"vue\\\";\\n  import { ENV } from \\\"../env\\\";\\n  import AuthForm from \\\"./components/AuthForm.vue\\\";\\n  import ConnectModal from \\\"./components/ConnectModal.vue\\\";\\n  import Settings from \\\"./components/Settings.vue\\\";\\n  import Chat from \\\"./components/Chat.vue\\\";\\n  import { getPersisted, LANG, persist, store, STORE_KEY } from \\\"./store\\\";\\n  import PowerSimulator from './components/PowerSimulator.vue';\\n  import QuizCardModal from \\\"./components/QuizCardModal.vue\\\";\\n  import QuizService from \\\"./quizService\\\";\\n  import { QuizCard } from \\\"./models\\\";\\nimport { i18n } from \\\"./assets/i18n\\\";\\n\\n  const version = require('../package.json').version;\\n\\n  const token = ref(getPersisted<string>(STORE_KEY.TOKEN) || ENV.TOKEN);\\n\\n  const error = ref<string | undefined>();\\n\\n  const percent = ref<number>(0);\\n\\n  const activeCard = ref<QuizCard | undefined>();\\n  const showCardModal = ref(false);\\n\\n  const showSettings = ref(false);\\n\\n  document.addEventListener('keydown', function(event) {\\n    if (showCardModal.value && event.key == 'Enter') {\\n      showCardModal.value = false;\\n    } else if (event.key == 'Enter' && store.textInput == '') {\\n      showCard();\\n    }\\n  });\\n\\n  /**\\n   * Calculates the header buttons\\n   */\\n  function getHeaderButtons() {\\n    return [\\n      {\\n        icon: '🀙',\\n        title: activeCard.value == undefined \\n          ? i18n('NEW_CARD')\\n          : i18n('SHOW_CARD'),\\n        action: showCard,\\n        style: activeCard.value == undefined \\n          ? 'line-height: 1.8em;'\\n          : 'text-shadow: #fac300 0px 0 3px; line-height: 1.8em;'\\n      },\\n      {\\n        icon: '⟲',\\n        title: i18n('RESET'),\\n        action: resetUser,\\n        style: ''\\n      },\\n      {\\n        icon: store.lang === LANG.DE ? '🇩🇪' : '🇫🇷',\\n        title: i18n('LANGUAGE'),\\n        action: toggleLanguage,\\n        style: 'filter: saturate(0)'\\n      },\\n      // {\\n      //   icon: '⚙︎',\\n      //   title: 'Einstellungen',\\n      //   action: () => showSettings.value = !showSettings.value,\\n      //   style: ''\\n      // }\\n    ];\\n  }\\n\\n  /**\\n   * Sets the token recieved from authentication\\n   * @param t    object with the new token and a boolean value\\n   *             that defines if the token should be persistet to local storage\\n   */\\n  function setToken(t: {token: string, persist: boolean}) {\\n    token.value = t.token;\\n    if (t.persist) {\\n      persist(STORE_KEY.TOKEN, token.value);\\n    }\\n  }\\n\\n  /**\\n   * \\n   */\\n  function toggleLanguage() {\\n    switch (store.lang) {\\n      case LANG.DE: \\n        store.lang = LANG.FR;\\n        break;\\n      case LANG.FR:\\n        store.lang = LANG.DE;\\n        break;\\n    }\\n  }\\n\\n  /**\\n   * Resets the app to start with a new user\\n   */\\n  function resetUser() {\\n     if (\\n      confirm(i18n('RESET_USER'))\\n    ) {\\n      activeCard.value = undefined;\\n      store.resetUser();\\n    }\\n  }\\n\\n\\n  /**\\n   * Resets the whole app\\n   */\\n  function reset() {\\n    resetUser();\\n    error.value = undefined;\\n    token.value = ENV.TOKEN;\\n  }\\n\\n  /**\\n   * Draws a new quiz card and sets the example prompts.\\n   */\\n  function showCard() {\\n    if (activeCard.value == undefined) {\\n      activeCard.value = QuizService.drawRandomQuizCard();\\n      store.examplePrompts = activeCard.value.prompts[store.lang];\\n    }\\n    showCardModal.value = true;\\n  }\\n\\n  /**\\n   * Handles an error and displays it to the user\\n   * @param error   the error message to display to the user\\n   */\\n  function handleError(e: string = \\\"Unbekannter Fehler.\\\") {\\n    error.value = e;\\n  }\\n</script>\\n\\n<template>\\n  <header>\\n    <img :src=\\\"require('@/assets/logo.png')\\\" alt=\\\"Logo Berner Fachhochschule\\\" class=\\\"logo\\\" :title=\\\"'EnerKI Version: '+version\\\" />\\n    <h1>enerKI</h1>\\n    <div class=\\\"header-buttons\\\">\\n      <a v-for=\\\"b of getHeaderButtons()\\\" @click=\\\"b.action\\\" :title=\\\"b.title\\\" class=\\\"header-button\\\" :style=\\\"b.style\\\">{{ b.icon }}</a>\\n    </div>\\n  </header>\\n  <Settings v-if=\\\"showSettings\\\" @on-close=\\\"showSettings = false\\\"/>\\n  <div v-else>\\n    <!-- if no token is set, we show the auth form -->\\n    <auth-form v-if=\\\"token?.length == 0\\\" @on-token=\\\"setToken\\\" @on-error=\\\"handleError\\\" />\\n\\n    <main v-else>\\n      <!-- display error message -->\\n      <div class=\\\"error\\\" v-if=\\\"error\\\">\\n        <h2>{{i18n('ERROR')}}</h2>\\n        {{ error }}\\n        <button @click=\\\"reset\\\">{{i18n('ERROR')}}</button>\\n      </div>\\n\\n      <!-- chat window -->\\n      <chat v-else \\n        :token=\\\"token\\\" \\n        :percent=\\\"percent\\\"\\n        @on-error=\\\"handleError\\\" \\n      />  \\n\\n      <!-- window for power simulation / debug -->\\n      <PowerSimulator v-if=\\\"store.connected && store.isPedalling()\\\" :debug=\\\"store.isDebug\\\" :watt=\\\"Math.round(store.power.getValues().value)\\\"/>\\n    </main>\\n\\n    <ConnectModal v-if=\\\"!store.connected\\\" @on-error=\\\"handleError\\\" />\\n    <QuizCardModal v-if=\\\"activeCard && showCardModal\\\" :card=\\\"activeCard\\\" @on-close=\\\"showCardModal = false\\\"/>\\n\\n    <ul class=\\\"toast-list\\\">\\n      <li\\n        v-for=\\\"(toast, i) of store.toasts\\\"\\n        :style=\\\"'opacity: ' + (i + 1) / store.toasts.length\\\"\\n      >\\n        <div class=\\\"alert alert-info\\\" role=\\\"alert\\\">\\n          {{ toast }}\\n        </div>\\n      </li>\\n    </ul>\\n  </div>\\n \\n</template>\\n\\n<style scoped>\\n.error {\\n  background-color: salmon;\\n  color: white;\\n  margin: 1em;\\n  width: 100%;\\n  padding: 0.5em;\\n  border-radius: 0.5em;\\n}\\nheader {\\n  color: #697d91;\\n  display:flex;\\n  flex-direction: row;\\n}\\n\\nheader h1 {\\n  line-height: 1.6em;\\n  margin-left: 1em;\\n}\\n\\n.error h2 {\\n  font-size: 1.5em;\\n  font-weight: bold;\\n}\\n.header-buttons {\\n  width: 6em;\\n  margin-left: auto;\\n  justify-content: space-evenly;\\n  display: flex;\\n}\\n.header-button {\\n  cursor: pointer;\\n  text-decoration: none;\\n  color: #c1c9d1;\\n  font-size: 2em;\\n  line-height: 2em;\\n  margin-left: 0.2em;\\n}\\n.glow {\\n  text-shadow: #fac300 0px 0 3px;\\n}\\n\\n.header-button:hover {\\n  color: #697d91;\\n  filter: saturate(1) !important; \\n}\\n\\n.logo {\\n  height: 2.5em;\\n  margin: 0.75em;\\n}\\n\\n.toast-list {\\n  list-style-type: none;\\n  position: fixed;\\n  bottom: 30%;\\n  width: 60%;\\n  margin-left: 20%;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Chat.vue?vue&type=style&index=0&id=82039752&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"686bfef6\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Chat.vue?vue&type=style&index=0&id=82039752&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Chat.vue?vue&type=style&index=0&id=82039752&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\nul[data-v-5fa2f7ae] {\n    list-style-type: none;\n    display: flex;\n    flex-direction: row;\n    position: absolute;\n    bottom: 2.9em;\n    padding: 0.5em;\n    background-color: aliceblue;\n    backdrop-filter: blur(3px);\n    -webkit-backdrop-filter: blur(3px);\n    background-color: rgba(255, 255, 255, 0.1);\n}\nli[data-v-5fa2f7ae] {\n    display: inline-block;\n    cursor: pointer;\n    background-color: #eff1f3;\n    border-radius: 0.2rem;\n    padding: 0.4rem;\n    font-size: 0.5em;\n    width: 30%;\n    margin: 0 1em;\n    color: #4b647d;\n}\nli[data-v-5fa2f7ae]:hover {\n    background-color: #e0e4e8;\n}\n.prompt-number[data-v-5fa2f7ae] {\n    font-size: 2em;\n    color: #c1c9d1;\n    display: block;\n    position: relative;\n    top: -1rem;\n    right: 1rem;\n    height: 1.5rem;\n    width: 1.5rem;\n    text-align: center;\n    border-radius: 50%;\n    background-color: #e0e4e8;\n}\np[data-v-5fa2f7ae] {\n    margin-bottom: 0;\n    margin-top: -1.5rem;\n    position: relative;\n    font-size: 1.7em;\n    z-index: 10;\n}\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/PromptExamples.vue\"],\"names\":[],\"mappings\":\";AAyCE;IACE,qBAAqB;IACrB,aAAa;IACb,mBAAmB;IACnB,kBAAkB;IAClB,aAAa;IACb,cAAc;IACd,2BAA2B;IAC3B,0BAA0B;IAC1B,kCAAkC;IAClC,0CAA0C;AAC5C;AACA;IACE,qBAAqB;IACrB,eAAe;IACf,yBAAyB;IACzB,qBAAqB;IACrB,eAAe;IACf,gBAAgB;IAChB,UAAU;IACV,aAAa;IACb,cAAc;AAChB;AACA;IACE,yBAAyB;AAC3B;AACA;IACE,cAAc;IACd,cAAc;IACd,cAAc;IACd,kBAAkB;IAClB,UAAU;IACV,WAAW;IACX,cAAc;IACd,aAAa;IACb,kBAAkB;IAClB,kBAAkB;IAClB,yBAAyB;AAC3B;AACA;IACE,gBAAgB;IAChB,mBAAmB;IACnB,kBAAkB;IAClB,gBAAgB;IAChB,WAAW;AACb\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n  import { store } from '@/store';\\n\\n  const props = defineProps({\\n    userInputting: Boolean\\n  });\\n\\n  const emit = defineEmits(['onSelectPrompt']);\\n\\n  document.addEventListener('keydown', function(event) {\\n    const key = Number(event.key);\\n    if (!props.userInputting && event.key != ' ' && !isNaN(key) && key <= store.examplePrompts.length) {\\n      selectPrompt(key - 1);\\n    }\\n  }); \\n\\n\\n  function selectPrompt(index: number) {\\n    const prompt = store.examplePrompts[index];\\n   \\n    window.setTimeout(() => \\n      emit('onSelectPrompt', prompt),\\n      50\\n    );\\n  }\\n</script>\\n\\n<template>\\n  <ul>\\n    <li v-for=\\\"prompt, i of store.examplePrompts\\\" @click=\\\"selectPrompt(i)\\\">\\n      <span class=\\\"prompt-number\\\">\\n        {{ i + 1 }}\\n      </span>\\n      <p>\\n        {{ prompt }}\\n      </p>\\n    </li>\\n  </ul>\\n</template>\\n\\n<style scoped>\\n  ul {\\n    list-style-type: none;\\n    display: flex;\\n    flex-direction: row;\\n    position: absolute;\\n    bottom: 2.9em;\\n    padding: 0.5em;\\n    background-color: aliceblue;\\n    backdrop-filter: blur(3px);\\n    -webkit-backdrop-filter: blur(3px);\\n    background-color: rgba(255, 255, 255, 0.1);\\n  }\\n  li {\\n    display: inline-block;\\n    cursor: pointer;\\n    background-color: #eff1f3;\\n    border-radius: 0.2rem;\\n    padding: 0.4rem;\\n    font-size: 0.5em;\\n    width: 30%;\\n    margin: 0 1em;\\n    color: #4b647d;\\n  }\\n  li:hover {\\n    background-color: #e0e4e8;\\n  }\\n  .prompt-number {\\n    font-size: 2em;\\n    color: #c1c9d1;\\n    display: block;\\n    position: relative;\\n    top: -1rem;\\n    right: 1rem;\\n    height: 1.5rem;\\n    width: 1.5rem;\\n    text-align: center;\\n    border-radius: 50%;\\n    background-color: #e0e4e8;\\n  }\\n  p {\\n    margin-bottom: 0;\\n    margin-top: -1.5rem;\\n    position: relative;\\n    font-size: 1.7em;\\n    z-index: 10;\\n  }\\n\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PowerSimulator.vue?vue&type=style&index=0&id=514c228e&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e90ff6f8\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PowerSimulator.vue?vue&type=style&index=0&id=514c228e&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PowerSimulator.vue?vue&type=style&index=0&id=514c228e&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.background[data-v-46c3d32b] {\n  backdrop-filter: blur(3px);\n  -webkit-backdrop-filter: blur(3px);\n  background-color: rgba(255, 255, 255, .5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 15 !important;\n}\n.connect-button[data-v-46c3d32b] {\n  width: 10em;\n  display: block;\n  margin-top: 2em;\n  margin-left: auto;\n  margin-right: auto;\n}\n.modal[data-v-46c3d32b] {\n  display: contents;\n}\n.modal-content[data-v-46c3d32b] {\n  top: 10vh;\n}\n.modal-dialog[data-v-46c3d32b] {\n  z-index: 20 !important;\n}\n.button-container[data-v-46c3d32b] {\n  display: flex;\n}\nh1[data-v-46c3d32b] {\n  font-size: 1.2em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ConnectModal.vue\"],\"names\":[],\"mappings\":\";AAsDA;EACE,0BAA0B;EAC1B,kCAAkC;EAClC,yCAAyC;EACzC,eAAe;EACf,MAAM;EACN,OAAO;EACP,aAAa;EACb,WAAW;EACX,sBAAsB;AACxB;AACA;EACE,WAAW;EACX,cAAc;EACd,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,iBAAiB;AACnB;AACA;EACE,SAAS;AACX;AACA;EACE,sBAAsB;AACxB;AACA;EACE,aAAa;AACf;AACA;EACE,gBAAgB;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { store } from '../store';\\nimport { i18n } from '@/assets/i18n';\\n\\nconst emit = defineEmits(['onError']);\\n\\nfunction connect(type: 'heartRate' | 'power' | 'debug') {\\n  try {\\n    store.connect(type);\\n  } catch (e) {\\n    emit('onError', JSON.stringify(e, null, 2));\\n  }\\n}\\n</script>\\n\\n<template>\\n  <div class=\\\"background\\\" />\\n  <div class=\\\"modal fade\\\" id=\\\"connect-modal\\\">\\n    <div class=\\\"modal-dialog\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h1 class=\\\"modal-title\\\">{{ i18n('CONNECT_TITLE') }}</h1>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <p>{{ i18n('CONNECT_NOTCONNECTED') }}</p>\\n          <p><a href=\\\"https://github.com/bfh-pcdh/enerki/blob/main/SETUP.md\\\" target=\\\"_blank\\\">{{ i18n('CONNECT_INSTRUCTIONS') }}</a></p>\\n          <div class=\\\"button-container\\\">\\n            <!-- button \\n              @click=\\\"connect('heartRate')\\\"\\n              :disabled=\\\"!store.heartRate.stickAvailable()\\\"\\n              class=\\\"connect-button\\\">\\n              Pulssensor verbinden\\n            </button-->\\n            <button \\n              @click=\\\"connect('power')\\\"\\n              class=\\\"connect-button\\\"\\n              :disabled=\\\"!store.power.stickAvailable()\\\"\\n              :title=\\\"i18n('CONNECT_POWERMETER_TOOLTIP')\\\">\\n              {{ i18n('CONNECT_POWERMETER') }}\\n            </button>\\n            <button \\n              @click=\\\"connect('debug')\\\"\\n              class=\\\"connect-button\\\"\\n              :title=\\\"i18n('CONNECT_DEBUG_TOOLTIP')\\\">\\n              {{ i18n('CONNECT_DEBUG') }}\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<style scoped>\\n.background {\\n  backdrop-filter: blur(3px);\\n  -webkit-backdrop-filter: blur(3px);\\n  background-color: rgba(255, 255, 255, .5);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  height: 100vh;\\n  width: 100%;\\n  z-index: 15 !important;\\n}\\n.connect-button {\\n  width: 10em;\\n  display: block;\\n  margin-top: 2em;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.modal {\\n  display: contents;\\n}\\n.modal-content {\\n  top: 10vh;\\n}\\n.modal-dialog {\\n  z-index: 20 !important;\\n}\\n.button-container {\\n  display: flex;\\n}\\nh1 {\\n  font-size: 1.2em;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Settings.vue?vue&type=style&index=0&id=5fe2c650&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0a7edc10\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Settings.vue?vue&type=style&index=0&id=5fe2c650&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./Settings.vue?vue&type=style&index=0&id=5fe2c650&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\nform[data-v-a149adc6] {\n    display: flex;\n    margin: 5em 1em !important;\n    flex-direction: column;\n}\ndiv[data-v-a149adc6] {\n    display: flex;\n    width: 100%;\n    margin-top: 1em;\n}\n.token-box input[data-v-a149adc6] {\n    width: 80%;\n}\n.persist-box[data-v-a149adc6] {\n    width: 50%;\n    margin-left: auto;\n    margin-right: auto;\n}\n.persist-box input[data-v-a149adc6] {\n    margin-right: 0.5em;\n}\nbutton[data-v-a149adc6] {\n    width: 20%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/AuthForm.vue\"],\"names\":[],\"mappings\":\";AAmDE;IACE,aAAa;IACb,0BAA0B;IAC1B,sBAAsB;AACxB;AACA;IACE,aAAa;IACb,WAAW;IACX,eAAe;AACjB;AACA;IACE,UAAU;AACZ;AACA;IACE,UAAU;IACV,iBAAiB;IACjB,kBAAkB;AACpB;AACA;IACE,mBAAmB;AACrB;AACA;IACE,UAAU;AACZ\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { i18n } from '@/assets/i18n';\\nimport { ref } from 'vue';\\n\\n  const emit = defineEmits(['onToken', 'onError']);\\n\\n  const token = ref('');\\n  const persist = ref(false);\\n\\n  // TODO: very basic validation, update this later\\n  function isValid(token: string): Promise<boolean> {\\n    return Promise.resolve(token.length > 0);\\n  }\\n\\n  function setToken() {\\n    isValid(token.value).then((valid) => {\\n      if (valid) {\\n        emit('onToken', {\\n          token: token.value,\\n          persist: persist.value\\n        });\\n      } \\n    });\\n  }\\n  function togglePersist() {\\n    if (persist.value) {\\n      persist.value = false;\\n    } else {\\n      const confirm = window.confirm(\\n          i18n('AUTH_CONFIRM')\\n      );\\n      window.setTimeout(() => persist.value = confirm, 1); // hack necessary to set negative answer when user checked checkbox and said no in prompt\\n    }\\n  }\\n</script>\\n\\n<template>\\n  <form action=\\\"#\\\">\\n    <div class=\\\"token-box\\\">\\n      <input type=\\\"text\\\" v-model=\\\"token\\\" placeholder=\\\"Bitte gib dein BeeChat Token ein\\\" style=\\\"width: 100%\\\"></input>\\n      <button @click=\\\"setToken\\\" type=\\\"submit\\\" :disabled=\\\"token.length == 0\\\">\\n        {{ i18n('SAVE').toUpperCase() }}\\n      </button>\\n    </div>\\n    <div class=\\\"persist-box\\\">\\n      <input type=\\\"checkbox\\\" v-model=\\\"persist\\\" @click=\\\"togglePersist\\\">{{ i18n('AUTH_PERSIST') }}</input>\\n    </div>\\n  </form>\\n</template>\\n\\n<style scoped>\\n  form {\\n    display: flex;\\n    margin: 5em 1em !important;\\n    flex-direction: column;\\n  }\\n  div {\\n    display: flex;\\n    width: 100%;\\n    margin-top: 1em;\\n  }\\n  .token-box input {\\n    width: 80%;\\n  }\\n  .persist-box {\\n    width: 50%;\\n    margin-left: auto;\\n    margin-right: auto;\\n  }\\n  .persist-box input {\\n    margin-right: 0.5em;\\n  }\\n  button {\\n    width: 20%;\\n  }\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\nul.chat-list[data-v-82039752] {\n  overflow: scroll;\n  height: 100vh;\n  margin-bottom: 0;\n  padding: 1em;\n  padding-top: 10em;\n}\nli[data-v-82039752]:first-child {\n  margin-top: 3em;\n}\n.message-bubble[data-v-82039752] {\n  list-style: none;\n  padding: 0.25em 1em;\n  border-radius: 1em;\n  width: 75%;\n  margin-top: 0.5em;\n  transition: opacity 1.2s ease, filter 1.2s ease;\n}\n.chat-user[data-v-82039752] {\n  background-color: #64788b;\n  color: #eff1f3;\n  margin-left: 25%;\n}\n.chat-assistant[data-v-82039752] {\n  background-color: #e0e4e8;\n  color: #4b647d;\n  margin-right: 25%;\n}\n.chat-developer[data-v-82039752] {\n  display: none;\n}\n.spinner-border[data-v-82039752] {\n  display: block;\n  height: 1em;\n  width: 1em;\n  margin-left: auto;\n  margin-right: auto;\n}\ninput[data-v-82039752] {\n  border-bottom-left-radius: 1em;\n  border-top-left-radius: 1em;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  padding-left: 0.5em;\n  width: 75%;\n}\nbutton[data-v-82039752] {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n  border-bottom-right-radius: 1em;\n  border-top-right-radius: 1em;\n  padding-right: 0.5em;\n  width: 25%;\n}\n.usage[data-v-82039752] {\n  width: 100%;\n  margin-top: 1em;\n  display: block;\n  text-align: center;\n  color: darkgray;\n}\n.spinner-border[data-v-82039752] {\n  margin-top: 2em;\n  margin-bottom: 2em;\n}\n.scroll-target[data-v-82039752] {\n  height: 4em;\n  color: white;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Chat.vue\"],\"names\":[],\"mappings\":\";AAmNA;EACE,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,eAAe;AACjB;AACA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,kBAAkB;EAClB,UAAU;EACV,iBAAiB;EACjB,+CAA+C;AACjD;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,gBAAgB;AAClB;AACA;EACE,yBAAyB;EACzB,cAAc;EACd,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;AACA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,iBAAiB;EACjB,kBAAkB;AACpB;AAEA;EACE,8BAA8B;EAC9B,2BAA2B;EAC3B,6BAA6B;EAC7B,0BAA0B;EAC1B,mBAAmB;EACnB,UAAU;AACZ;AAEA;EACE,4BAA4B;EAC5B,yBAAyB;EACzB,+BAA+B;EAC/B,4BAA4B;EAC5B,oBAAoB;EACpB,UAAU;AACZ;AAEA;EACE,WAAW;EACX,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,eAAe;AACjB;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;AACd\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { computed, ref, ShallowRef, useTemplateRef } from 'vue';\\nimport { ENV } from '../../env';\\nimport { type Message, USER_ROLE } from '@/models';\\nimport axios from 'axios';\\nimport markdownit from 'markdown-it';\\nimport { store } from '../store';\\nimport { AntSubscription } from '@/antService';\\nimport ToastService from '@/toastService';\\nimport PromptExamples from './PromptExamples.vue';\\nimport { i18n } from '@/assets/i18n';\\n\\n// define props\\nconst props = defineProps<{\\n  token: string,\\n  percent: number\\n}>();\\n\\nconst md = markdownit({\\n  html: true,\\n  linkify: true,\\n  typographer: true\\n});\\n\\n// define events\\nconst emit = defineEmits(['onAnswer','onError']);\\n\\nconst chat: ShallowRef = useTemplateRef('chat-list');\\n\\nconst loadingPercent = ref(0);\\n\\nconst userInput = ref(false);\\nconst chatInput = ref(null);\\nlet usage = -1;\\nlet inputTimeout = -1;\\n\\nconst loadingStyle = computed(() => {\\n  return 'filter: blur(' + (10 - Math.round(loadingPercent.value / 10)) + 'px);opacity:' + (0.009 * loadingPercent.value + 0.1).toFixed(2)  + ';';\\n})\\n\\n/**\\n * Estimates the energy usage for an answer, based on the number of output tokens. Samsi et al. estimated the energy usage with 3 - 4 Joule per token, which equals to ~0.001 Wh\\n * @see Paper       Samsi et al. (2023): From Words to Watts: Benchmarking the Energy Costs of Large Language Model Inference. https://doi.org/10.48550/arXiv.2310.03003\\n * @param tokens    number of output tokens of the answer\\n * @returns         an estimation of energy (in Wh), based on the number of output tokens\\n */\\nfunction estimateEnergyUsage(tokens: number) {\\n  return tokens * 3.5 / 3600; // 3.5 joules per token; 3600 J = 1 Wh\\n}\\n\\n/**\\n * Estimates the energy usage before knowing the answer\\n * @returns         an estimation of energy (in Wh)\\n */\\nfunction preEstimateUsage() {\\n  return 1;\\n}\\n\\n/**\\n * Checks if a message is currently the last\\n * @param index   the index of the message\\n * @returns       TRUE if the message is the last in the array\\n *                FALSE if there are more messages after it in the array\\n */\\nfunction isLastMessage(index: number): boolean {\\n  return store.chatMessages.length - index === 1;\\n}\\n\\n/**\\n * Sends a message to the model, with all previous messages as context\\n */\\nfunction send() {\\n  if (store.textInput == '') return;\\n\\n  const message: Message = {\\n    role: USER_ROLE.USER,\\n    content: store.textInput,\\n    loading: false\\n  };\\n  loadingPercent.value = 0;\\n\\n  store.chatMessages.push(message);\\n\\n  const body = {\\n    model: ENV.MODEL,\\n    messages: [...store.chatMessages]\\n  }\\n  store.textInput = '';\\n\\n  const answerMessage = {\\n    role: USER_ROLE.AI,\\n    content: '...',\\n    loading: true,\\n    percent: 0\\n  };\\n\\n  ToastService.startToast();\\n\\n  store.chatMessages.push(answerMessage);\\n  usage = -1;\\n\\n  chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\\n\\n  store.startAndSubscribe(\\n    preEstimateUsage(),\\n    (ant: AntSubscription) => {\\n      answerMessage.percent = Math.min(ant.percent, 100);\\n      loadingPercent.value = Math.min(ant.percent, 100);\\n\\n      ToastService.progressToast(\\n        answerMessage.percent,\\n        answerMessage.content !== '...',\\n        ant.value\\n      );\\n      if (ant.percent >= 100 && usage > 0) {\\n        ToastService.energyToast(usage);\\n      }\\n    }\\n  );\\n\\n  const time = Date.now();\\n  axios.post(\\n    ENV.BASE_URL + ENV.ENDPOINT,\\n    body,\\n    {\\n      headers: {\\n        'Content-Type': 'application/json',\\n        'Authorization': 'Bearer ' + props.token\\n      },\\n    }\\n  ).then((result) => {\\n    const duration = Math.round((Date.now() - time) / 1000);\\n    usage = estimateEnergyUsage(result.data.usage.completion_tokens);\\n    store.setTarget(usage);\\n\\n    console.log('Energie verbraucht: ' + usage.toFixed(2) + ' Wh in ' + duration + ' Sekunden. \\\\nDas benötigt eine Durchschnittsleistung von ' + Math.round(3600 * usage / duration) + ' Watt.');\\n\\n    answerMessage.content = (result.data.choices[0].message.content as string).replaceAll('ß', 'ss');\\n    answerMessage.loading = false;\\n\\n    // we need to do this, or vue won't detect the update...\\n    store.chatMessages = [...store.chatMessages]\\n\\n    chat.value.lastElementChild?.scrollIntoView({ behavior: 'smooth', block: 'end' });\\n    emit('onAnswer', answerMessage);\\n  }).catch((e) => {\\n    console.error(e);\\n    emit('onError', JSON.stringify(e, null, 2));\\n  });\\n}\\n\\n/**\\n * Sets a 1 second timeout in which we don't listen to hotkey inputs\\n */\\nfunction inputting() {\\n  userInput.value = true;\\n  if (inputTimeout > 0) {\\n    window.clearTimeout(inputTimeout);\\n  }\\n  inputTimeout = window.setTimeout(() => {\\n    userInput.value = false;\\n  }, 1000);\\n}\\n\\nfunction setPrompt(prompt: string) {\\n  if (!store.chatMessages[store.chatMessages.length -1]?.loading) {\\n    store.textInput = prompt;\\n    (chatInput.value as any)?.focus();\\n  }\\n}\\n</script>\\n\\n<template>\\n  <ul ref=\\\"chat-list\\\" class=\\\"chat-list\\\">\\n    <li\\n      v-for=\\\"(message, i) of store.chatMessages\\\"\\n      :class=\\\"'message-bubble chat-' + message.role\\\"\\n      :style=\\\"\\n        message.percent != undefined && message.percent < 100 && isLastMessage(i)\\n          ? loadingStyle\\n          : ''\\n      \\\"\\n    >\\n      <div v-if=\\\"message.loading\\\" class=\\\"spinner-border\\\" role=\\\"status\\\">\\n        <span class=\\\"visually-hidden\\\">Loading...</span>\\n      </div>\\n      <div v-else v-html=\\\"md.render(message.content)\\\" />\\n    </li>\\n    <li style=\\\"height: 10em; color: white\\\"></li>\\n  </ul>\\n\\n  <PromptExamples\\n    @on-select-prompt=\\\"setPrompt\\\"\\n    :user-inputting=\\\"userInput\\\"\\n    v-if=\\\"!store.isPedalling() && store.examplePrompts.length > 0\\\"\\n  />\\n\\n  <form action=\\\"#\\\" ref=\\\"input-form\\\">\\n    <input\\n      autofocus\\n      type=\\\"text\\\"\\n      v-model=\\\"store.textInput\\\"\\n      :placeholder=\\\"i18n(store.examplePrompts.length > 0 ? 'CHAT_PLACEHOLDER_PROMPTS' : 'CHAT_PLACEHOLDER')\\\"\\n      @input=\\\"inputting\\\"\\n      ref=\\\"chatInput\\\"\\n    />\\n    <button @click=\\\"send\\\" type=\\\"submit\\\" :disabled=\\\"store.isPedalling()\\\">{{ i18n('SEND').toUpperCase() }}</button>\\n  </form>\\n</template>\\n\\n<style scoped>\\nul.chat-list {\\n  overflow: scroll;\\n  height: 100vh;\\n  margin-bottom: 0;\\n  padding: 1em;\\n  padding-top: 10em;\\n}\\nli:first-child {\\n  margin-top: 3em;\\n}\\n.message-bubble {\\n  list-style: none;\\n  padding: 0.25em 1em;\\n  border-radius: 1em;\\n  width: 75%;\\n  margin-top: 0.5em;\\n  transition: opacity 1.2s ease, filter 1.2s ease;\\n}\\n.chat-user {\\n  background-color: #64788b;\\n  color: #eff1f3;\\n  margin-left: 25%;\\n}\\n.chat-assistant {\\n  background-color: #e0e4e8;\\n  color: #4b647d;\\n  margin-right: 25%;\\n}\\n.chat-developer {\\n  display: none;\\n}\\n.spinner-border {\\n  display: block;\\n  height: 1em;\\n  width: 1em;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\ninput {\\n  border-bottom-left-radius: 1em;\\n  border-top-left-radius: 1em;\\n  border-bottom-right-radius: 0;\\n  border-top-right-radius: 0;\\n  padding-left: 0.5em;\\n  width: 75%;\\n}\\n\\nbutton {\\n  border-bottom-left-radius: 0;\\n  border-top-left-radius: 0;\\n  border-bottom-right-radius: 1em;\\n  border-top-right-radius: 1em;\\n  padding-right: 0.5em;\\n  width: 25%;\\n}\\n\\n.usage {\\n  width: 100%;\\n  margin-top: 1em;\\n  display: block;\\n  text-align: center;\\n  color: darkgray;\\n}\\n\\n.spinner-border {\\n  margin-top: 2em;\\n  margin-bottom: 2em;\\n}\\n.scroll-target {\\n  height: 4em;\\n  color: white;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\nh1[data-v-5fe2c650] {\n    margin-top: 3em;\n    margin-left: 2em;\n}\np[data-v-5fe2c650] {\n    margin-left: 5em;\n}\nbutton[data-v-5fe2c650] {\n    margin-left: 5em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Settings.vue\"],\"names\":[],\"mappings\":\";AAwBE;IACE,eAAe;IACf,gBAAgB;AAClB;AACA;IACE,gBAAgB;AAClB;AACA;IACE,gBAAgB;AAClB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n  import { store } from '../store';\\n  const PACKAGE = require('../../package.json');\\n  const version = PACKAGE.version;\\n  const emit = defineEmits(['onClose']);\\n\\n  function reset() {\\n    if (\\n      confirm('Soll enerKI für eine·n Benutzer·in zurückgesetz werden?')\\n    ) {\\n      store.resetUser();\\n      emit('onClose');\\n    }\\n\\n  }\\n</script>\\n\\n<template>\\n    <h1>🏗️ TO DO: Einstellungen 🏗️</h1>\\n    <p>enerKI Version: {{ version }}</p> \\n    <button @click=\\\"reset\\\">Neue·r Benutzer·in</button>\\n</template>\\n\\n<style scoped>\\n  h1 {\\n    margin-top: 3em;\\n    margin-left: 2em;\\n  }\\n  p {\\n    margin-left: 5em;\\n  }\\n  button {\\n    margin-left: 5em;\\n  }\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PromptExamples.vue?vue&type=style&index=0&id=5fa2f7ae&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"55b5cdc1\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PromptExamples.vue?vue&type=style&index=0&id=5fa2f7ae&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./PromptExamples.vue?vue&type=style&index=0&id=5fa2f7ae&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.background[data-v-205e369a] {\n  backdrop-filter: blur(3px);\n  -webkit-backdrop-filter: blur(3px);\n  background-color: rgba(255, 255, 255, .5);\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100%;\n  z-index: 15 !important;\n}\n.modal[data-v-205e369a] {\n  display: contents;\n  border-color: #4b647d;\n}\np[data-v-205e369a] {\n  color: #4b647d;\n}\np.additional[data-v-205e369a] {\n  font-size: 0.8em;\n  margin-bottom: 0;\n}\np.question[data-v-205e369a] {\n  margin: 1em;\n}\n.modal-content[data-v-205e369a] {\n  top: 10vh;\n}\n.modal-header[data-v-205e369a] {\n  background-color: #fac300;\n  color: #4b647d;\n}\n.modal-dialog[data-v-205e369a] {\n  z-index: 20 !important;\n}\nh1[data-v-205e369a] {\n  font-size: 1.2em;\n}\n.close-button[data-v-205e369a] {\n  cursor: pointer;\n  text-decoration: none;\n  width: 1em;\n  margin-left: auto;\n}\n.close-button[data-v-205e369a]:hover {\n  opacity: 0.8;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/QuizCardModal.vue\"],\"names\":[],\"mappings\":\";AA+BA;EACE,0BAA0B;EAC1B,kCAAkC;EAClC,yCAAyC;EACzC,eAAe;EACf,MAAM;EACN,OAAO;EACP,aAAa;EACb,WAAW;EACX,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;AACA;EACE,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;AACA;EACE,WAAW;AACb;AACA;EACE,SAAS;AACX;AACA;EACE,yBAAyB;EACzB,cAAc;AAChB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,eAAe;EACf,qBAAqB;EACrB,UAAU;EACV,iBAAiB;AACnB;AACA;EACE,YAAY;AACd\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\nimport { QuizCard } from \\\"@/models\\\";\\nimport { i18n } from \\\"@/assets/i18n\\\";\\nimport { store } from \\\"@/store\\\";\\n\\nconst emit = defineEmits([\\\"onClose\\\"]);\\nconst props = defineProps<{\\n  card: QuizCard\\n}>(); \\n</script>\\n\\n<template>\\n  <div class=\\\"background\\\" />\\n  <div class=\\\"modal fade\\\" id=\\\"quizcard-modal\\\">\\n    <div class=\\\"modal-dialog\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h1 class=\\\"modal-title\\\">{{i18n('QUIZCARD_TITLE') + card.id}}</h1>\\n          <span class=\\\"close-button\\\" @click=\\\"emit('onClose')\\\">×</span>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <p class=\\\"additional\\\">{{i18n('QUIZCARD_DESCRIPTION')}}</p>\\n          <p class=\\\"question\\\">{{ card.question[store.lang] }}</p>\\n          <p class=\\\"additional\\\">{{i18n('QUIZCARD_INSTRUCTION')}}</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<style scoped>\\n.background {\\n  backdrop-filter: blur(3px);\\n  -webkit-backdrop-filter: blur(3px);\\n  background-color: rgba(255, 255, 255, .5);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  height: 100vh;\\n  width: 100%;\\n  z-index: 15 !important;\\n}\\n.modal {\\n  display: contents;\\n  border-color: #4b647d;\\n}\\np {\\n  color: #4b647d;\\n}\\np.additional {\\n  font-size: 0.8em;\\n  margin-bottom: 0;\\n}\\np.question {\\n  margin: 1em;\\n}\\n.modal-content {\\n  top: 10vh;\\n}\\n.modal-header {\\n  background-color: #fac300;\\n  color: #4b647d;\\n}\\n.modal-dialog {\\n  z-index: 20 !important;\\n}\\nh1 {\\n  font-size: 1.2em;\\n}\\n.close-button {\\n  cursor: pointer;\\n  text-decoration: none;\\n  width: 1em;\\n  margin-left: auto;\\n}\\n.close-button:hover {\\n  opacity: 0.8;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./AuthForm.vue?vue&type=style&index=0&id=a149adc6&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2ed2c02b\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./AuthForm.vue?vue&type=style&index=0&id=a149adc6&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./AuthForm.vue?vue&type=style&index=0&id=a149adc6&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.power[data-v-514c228e] {\n    position: absolute;\n    right: 2em;\n    bottom: 5em;\n    width: 12em;\n    border-radius: 0.5em;\n}\n.watts[data-v-514c228e] {\n    width: 100%;\n    text-align: center;\n    display: block;\n    font-size: 1.5em;\n    font-weight: 700;\n    padding: 0.2em;\n}\ninput[data-v-514c228e] {\n    width: 90%;\n    margin: 5%;\n}\nh3[data-v-514c228e] {\n    width: 100%;\n    font-size: 0.7em;\n    text-align: center;\n    margin-top: 0.5em;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/PowerSimulator.vue\"],\"names\":[],\"mappings\":\";AA2DE;IACE,kBAAkB;IAClB,UAAU;IACV,WAAW;IACX,WAAW;IACX,oBAAoB;AACtB;AACA;IACE,WAAW;IACX,kBAAkB;IAClB,cAAc;IACd,gBAAgB;IAChB,gBAAgB;IAChB,cAAc;AAChB;AACA;IACE,UAAU;IACV,UAAU;AACZ;AACA;IACE,WAAW;IACX,gBAAgB;IAChB,kBAAkB;IAClB,iBAAiB;AACnB\",\"sourcesContent\":[\"<script setup lang=\\\"ts\\\">\\n  import { store } from '@/store';\\n  import { ref, watch } from 'vue';\\n  import { i18n } from '@/assets/i18n';\\n\\n  const MIN_WATT = 0;\\n  const MAX_WATT = 500;\\n\\n  const props = defineProps({\\n    debug: Boolean,\\n    watt: Number\\n  });\\n\\n  const simulatedWatt = ref(MIN_WATT);\\n\\n  watch(simulatedWatt, () => \\n    store.power.setDebugWatt(simulatedWatt.value)\\n  );\\n\\n  function getBackgroundColor(): string {\\n    const calcWatt = (props.debug ? simulatedWatt.value : props.watt) || 0;\\n    const clamped = Math.max(0, Math.min(MAX_WATT,calcWatt));\\n\\n    const green = { r: 182, g: 242, b: 195 }; \\n    const yellow = { r: 255, g: 255, b: 102 }; \\n    const red = { r: 139, g: 0, b: 0 };       \\n\\n    let start, end, t;\\n\\n    if (clamped <= MAX_WATT / 2) {\\n      start = green;\\n      end = yellow;\\n      t = clamped / (MAX_WATT / 2);\\n    } else {\\n      start = yellow;\\n      end = red;\\n      t = (clamped - (MAX_WATT / 2)) / (MAX_WATT / 2);\\n    }\\n\\n    return `background-color: rgba(${\\n      Math.round(start.r + (end.r - start.r) * t)\\n    }, ${\\n      Math.round(start.g + (end.g - start.g) * t)\\n    }, ${\\n      Math.round(start.b + (end.b - start.b) * t)\\n    }, 0.5)`;\\n  }\\n\\n</script>\\n\\n<template>\\n  <div class=\\\"power\\\" :style=\\\"getBackgroundColor()\\\">\\n    <h3>{{ i18n('POWERSIM_LABEL') }}</h3>\\n    <span class=\\\"watts\\\">{{ watt + ' ' + i18n('POWERSIM_WATT') }}</span>\\n    <input type=\\\"range\\\" v-if=\\\"debug \\\"v-model=\\\"simulatedWatt\\\" :min=\\\"MIN_WATT\\\" :max=\\\"MAX_WATT\\\"></input>\\n  </div>\\n</template>\\n\\n<style scoped>\\n  .power {\\n    position: absolute;\\n    right: 2em;\\n    bottom: 5em;\\n    width: 12em;\\n    border-radius: 0.5em;\\n  }\\n  .watts {\\n    width: 100%;\\n    text-align: center;\\n    display: block;\\n    font-size: 1.5em;\\n    font-weight: 700;\\n    padding: 0.2em;\\n  }\\n  input {\\n    width: 90%;\\n    margin: 5%;\\n  }\\n  h3 {\\n    width: 100%;\\n    font-size: 0.7em;\\n    text-align: center;\\n    margin-top: 0.5em;\\n  }\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./ConnectModal.vue?vue&type=style&index=0&id=46c3d32b&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"a632c19a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./ConnectModal.vue?vue&type=style&index=0&id=46c3d32b&scoped=true&lang=css\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[9].use[0]!./ConnectModal.vue?vue&type=style&index=0&id=46c3d32b&scoped=true&lang=css\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/enerki/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkenerki\"] = self[\"webpackChunkenerki\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [287], () => (__webpack_require__(84)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","AntService","stick","subscriptions","Array","target","total","value","constructor","this","on","console","log","data","warn","e","stickAvailable","undefined","connect","sensor","attach","open","then","o","close","error","startAndSubscribe","callback","autoUnsubscribe","reset","subscriptionID","subscribe","percent","unsubscribe","Math","min","setTarget","push","getValues","subscriptionIndex","splice","updateValue","newValue","newTotal","forEach","sub","round","activeSubscriptions","LANG","store","power","debug","debugWatt","unit","lastBeat","accumulatedPower","settings","super","setDebugWatt","watt","setSettings","fakeData","getWattHours","Date","now","setTimeout","actualPower","AccumulatedPower","Power","watts","heartRate","ComputedHeartRate","BeatCount","connected","connectedType","toasts","textInput","isDebug","chatMessages","examplePrompts","lang","DE","isPedalling","lastMessage","length","loading","type","resetUser","resetSubscriptions","subscription","pop","addToast","text","timeout","removeToast","i","findIndex","t","STORE_KEY","i18n","key","Object","hasOwn","KEYS","NOTFOUND","de","fr","RESET_USER","NEW_CARD","SHOW_CARD","RESET","LANGUAGE","ERROR","OK","SAVE","SEND","QUIZCARD_TITLE","QUIZCARD_DESCRIPTION","QUIZCARD_INSTRUCTION","POWERSIM_LABEL","POWERSIM_WATT","CONNECT_TITLE","CONNECT_NOTCONNECTED","CONNECT_INSTRUCTIONS","CONNECT_POWERMETER","CONNECT_POWERMETER_TOOLTIP","CONNECT_DEBUG","CONNECT_DEBUG_TOOLTIP","AUTH_CONFIRM","AUTH_PERSIST","CHAT_PLACEHOLDER","CHAT_PLACEHOLDER_PROMPTS","_hoisted_1","action","_hoisted_2","class","_hoisted_3","_hoisted_4","__name","emits","setup","__props","emit","__emit","token","persist","setToken","Promise","resolve","isValid","valid","togglePersist","confirm","window","_ctx","_cache","$event","placeholder","style","disabled","toUpperCase","id","_hoisted_5","_hoisted_6","_hoisted_7","href","_hoisted_8","_hoisted_9","_hoisted_10","JSON","stringify","title","version","USER_ROLE","Replacer","start","startDebug","tooFast","WATTHOUR","lowPercents","PERCENT","highPercents","lastPercents","halfPercents","highPower","WATT","notLoaded","getStarted","done","reallyDone","energyUsed","KCAL","lastToast","lastToastExpired","override","expired","getRandom","arr","replacer","replacement","floor","random","replace","ToastService","static","startToast","stillPedalingToast","progressToast","loaded","currentWatts","highPowerTimeout","toString","lowPowerTimeout","toFixed","notLoadedTimeout","energyToast","wh","getKiloCalsFromWatthour","props","userInputting","Boolean","selectPrompt","index","prompt","document","addEventListener","event","Number","isNaN","ref","role","md","html","linkify","typographer","chat","loadingPercent","userInput","chatInput","usage","inputTimeout","loadingStyle","send","message","USER","content","body","model","messages","answerMessage","AI","lastElementChild","scrollIntoView","behavior","block","ant","time","axios","post","ENV","headers","result","duration","tokens","completion_tokens","choices","replaceAll","catch","inputting","clearTimeout","setPrompt","focus","render","autofocus","ref_key","simulatedWatt","getBackgroundColor","calcWatt","clamped","max","yellow","r","g","b","end","MAX_WATT","card","question","QUIZ","prompts","QuizService","drawRandomQuizCard","lastQuizCard","storageString","localStorage","getItem","parse","getPersisted","activeCard","showCardModal","showSettings","setItem","toggleLanguage","FR","showCard","handleError","src","alt","icon","toast","App","mount","__esModule","default","module","locals","exports","add","___CSS_LOADER_EXPORT___","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","n","getter","d","a","definition","defineProperty","enumerable","get","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","p","baseURI","self","location","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}